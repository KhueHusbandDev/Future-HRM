/*
SQLyog Ultimate v13.1.1 (64 bit)
MySQL - 10.4.14-MariaDB : Database - hr
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`hr` /*!40100 DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci */;

USE `hr`;

/*Table structure for table `check_in_out` */

DROP TABLE IF EXISTS `check_in_out`;

CREATE TABLE `check_in_out` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) NOT NULL COMMENT 'FK table staff',
  `staff_code` varchar(30) COLLATE utf8_unicode_ci NOT NULL,
  `check_in_day` date NOT NULL,
  `check_in_at` datetime NOT NULL,
  `type` tinyint(1) NOT NULL DEFAULT 1 COMMENT '1:check in, 2:check out',
  `image` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=735 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `check_in_out` */

insert  into `check_in_out`(`id`,`staff_id`,`staff_code`,`check_in_day`,`check_in_at`,`type`,`image`) values 
(44,4,'Code','2021-03-01','2021-03-01 08:03:51',0,'202103160813178368.png'),
(45,4,'Code','2021-03-01','2021-03-01 17:03:56',1,'202103160817057964.png'),
(91,4,'Code','2021-03-02','2021-03-02 07:53:54',0,'202103160813178368.png'),
(92,4,'Code','2021-03-02','2021-03-02 16:33:56',1,'202103160817057964.png'),
(93,4,'Code','2021-03-03','2021-03-03 07:51:15',0,'202103160813178368.png'),
(94,4,'Code','2021-03-03','2021-03-03 11:15:56',1,'202103160817057964.png'),
(95,4,'Code','2021-03-04','2021-03-04 12:51:15',0,'202103160813178368.png'),
(96,4,'Code','2021-03-04','2021-03-04 17:04:56',1,'202103160817057964.png'),
(97,4,'Code','2021-03-05','2021-03-05 13:51:15',0,'202103160813178368.png'),
(98,4,'Code','2021-03-05','2021-03-05 17:04:56',1,'202103160817057964.png'),
(99,4,'Code','2021-03-23','2021-03-23 07:31:15',0,'202103160813178368.png'),
(100,4,'Code','2021-03-23','2021-03-23 17:44:56',1,'202103160817057964.png'),
(101,4,'Code','2021-03-08','2021-03-08 07:51:15',0,'202103160813178368.png'),
(102,4,'Code','2021-03-08','2021-03-08 18:34:56',1,'202103160817057964.png'),
(103,4,'Code','2021-03-09','2021-03-09 07:51:15',0,'202103160813178368.png'),
(104,4,'Code','2021-03-09','2021-03-09 17:34:56',1,'202103160817057964.png'),
(105,4,'Code','2021-03-10','2021-03-10 08:01:15',0,'202103160813178368.png'),
(106,4,'Code','2021-03-10','2021-03-10 16:17:56',1,'202103160817057964.png'),
(107,4,'Code','2021-03-11','2021-03-11 18:17:56',1,'202103160817057964.png'),
(108,4,'Code','2021-03-11','2021-03-11 08:12:15',0,'202103160813178368.png'),
(109,4,'Code','2021-03-12','2021-03-12 07:59:15',0,'202103160813178368.png'),
(110,4,'Code','2021-03-12','2021-03-12 21:17:56',1,'202103160817057964.png'),
(111,4,'Code','2021-03-13','2021-03-13 07:49:15',0,'202103160813178368.png'),
(112,4,'Code','2021-03-13','2021-03-13 19:17:56',1,'202103160817057964.png'),
(113,4,'Code','2021-03-15','2021-03-15 07:49:15',0,'202103160813178368.png'),
(114,4,'Code','2021-03-15','2021-03-15 15:17:56',1,'202103160817057964.png'),
(115,4,'Code','2021-03-16','2021-03-16 07:49:15',0,'202103160813178368.png'),
(116,4,'Code','2021-03-16','2021-03-16 11:15:56',1,'202103160817057964.png'),
(117,4,'Code','2021-03-18','2021-03-18 07:49:15',0,'202103160813178368.png'),
(118,4,'Code','2021-03-19','2021-03-19 13:15:56',0,'202103160817057964.png'),
(119,4,'Code','2021-03-18','2021-03-18 19:49:15',1,'202103160813178368.png'),
(121,4,'Code','2021-03-20','2021-03-20 07:15:56',0,'202103160817057964.png'),
(122,4,'Code','2021-03-19','2021-03-19 16:49:15',1,'202103160813178368.png'),
(123,4,'Code','2021-03-22','2021-03-22 07:49:15',0,'202103160813178368.png'),
(124,4,'Code','2021-03-22','2021-03-22 17:00:15',1,'202103160813178368.png'),
(125,4,'Code','2021-03-24','2021-03-24 07:49:15',0,'202103160813178368.png'),
(126,4,'Code','2021-03-24','2021-03-24 18:00:15',1,'202103160813178368.png'),
(127,4,'Code','2021-03-25','2021-03-25 07:49:15',0,'202103160813178368.png'),
(128,4,'Code','2021-03-25','2021-03-25 17:00:15',1,'202103160813178368.png'),
(129,4,'Code','2021-03-26','2021-03-26 07:49:15',0,'202103160813178368.png'),
(130,4,'Code','2021-03-29','2021-03-29 08:00:15',0,'202103160813178368.png'),
(131,4,'Code','2021-03-26','2021-03-26 17:49:15',1,'202103160813178368.png'),
(132,4,'Code','2021-03-30','2021-03-30 07:49:15',0,'202103160813178368.png'),
(133,4,'Code','2021-03-30','2021-03-30 17:49:15',1,'202103160813178368.png'),
(134,4,'Code','2021-03-31','2021-03-31 07:37:15',0,'202103160813178368.png'),
(135,4,'Code','2021-03-31','2021-03-31 11:49:15',1,'202103160813178368.png'),
(136,5,'vvv','2021-03-01','2021-03-01 08:00:51',0,'202103161442173540.png'),
(137,5,'vvv','2021-03-01','2021-03-01 17:03:56',1,'202103161442173540.png'),
(138,5,'vvv','2021-03-02','2021-03-02 07:53:54',0,'202103161442173540.png'),
(139,5,'vvv','2021-03-02','2021-03-02 16:33:56',1,'202103161442173540.png'),
(140,5,'vvv','2021-03-03','2021-03-03 07:51:15',0,'202103161442173540.png'),
(141,5,'vvv','2021-03-03','2021-03-03 12:01:56',1,'202103161442173540.png'),
(142,5,'vvv','2021-03-04','2021-03-04 12:51:15',0,'202103161442173540.png'),
(143,5,'vvv','2021-03-04','2021-03-04 17:04:56',1,'202103161442173540.png'),
(144,5,'vvv','2021-03-05','2021-03-05 13:51:15',0,'202103161442173540.png'),
(145,5,'vvv','2021-03-05','2021-03-05 17:04:56',1,'202103161442173540.png'),
(146,5,'vvv','2021-03-23','2021-03-23 07:31:15',0,'202103161442173540.png'),
(147,5,'vvv','2021-03-23','2021-03-23 17:44:56',1,'202103161442173540.png'),
(150,5,'vvv','2021-03-09','2021-03-09 07:51:15',0,'202103161442173540.png'),
(151,5,'vvv','2021-03-09','2021-03-09 17:34:56',1,'202103161442173540.png'),
(152,5,'vvv','2021-03-10','2021-03-10 08:01:15',0,'202103161442173540.png'),
(153,5,'vvv','2021-03-10','2021-03-10 17:17:56',1,'202103161442173540.png'),
(154,5,'vvv','2021-03-11','2021-03-11 18:17:56',1,'202103161442173540.png'),
(155,5,'vvv','2021-03-11','2021-03-11 08:12:15',0,'202103161442173540.png'),
(156,5,'vvv','2021-03-12','2021-03-12 07:59:15',0,'202103161442173540.png'),
(157,5,'vvv','2021-03-12','2021-03-12 20:35:56',1,'202103161442173540.png'),
(158,5,'vvv','2021-03-13','2021-03-13 07:49:15',0,'202103161442173540.png'),
(159,5,'vvv','2021-03-13','2021-03-13 18:17:56',1,'202103161442173540.png'),
(160,5,'vvv','2021-03-15','2021-03-15 07:49:15',0,'202103161442173540.png'),
(161,5,'vvv','2021-03-15','2021-03-15 15:17:56',1,'202103161442173540.png'),
(162,5,'vvv','2021-03-16','2021-03-16 07:49:15',0,'202103161442173540.png'),
(163,5,'vvv','2021-03-16','2021-03-16 11:15:56',1,'202103161442173540.png'),
(164,5,'vvv','2021-03-18','2021-03-18 07:49:15',0,'202103161442173540.png'),
(165,5,'vvv','2021-03-19','2021-03-19 07:15:56',0,'202103161442173540.png'),
(166,5,'vvv','2021-03-18','2021-03-18 19:49:15',1,'202103161442173540.png'),
(168,5,'vvv','2021-03-19','2021-03-19 16:49:15',1,'202103161442173540.png'),
(169,5,'vvv','2021-03-22','2021-03-22 07:49:15',0,'202103161442173540.png'),
(170,5,'vvv','2021-03-22','2021-03-22 17:00:15',1,'202103161442173540.png'),
(171,5,'vvv','2021-03-24','2021-03-24 07:49:15',0,'202103161442173540.png'),
(172,5,'vvv','2021-03-24','2021-03-24 18:00:15',1,'202103161442173540.png'),
(173,5,'vvv','2021-03-25','2021-03-25 07:49:15',0,'202103161442173540.png'),
(174,5,'vvv','2021-03-25','2021-03-25 17:00:15',1,'202103161442173540.png'),
(175,5,'vvv','2021-03-26','2021-03-26 07:49:15',0,'202103161442173540.png'),
(177,5,'vvv','2021-03-26','2021-03-26 17:49:15',1,'202103161442173540.png'),
(178,5,'vvv','2021-03-30','2021-03-30 07:49:15',0,'202103161442173540.png'),
(179,5,'vvv','2021-03-30','2021-03-30 17:49:15',1,'202103161442173540.png'),
(199,5,'vvv','2021-03-17','2021-03-17 07:37:15',0,'202103161442173540.png'),
(200,5,'vvv','2021-03-17','2021-03-17 17:49:15',1,'202103161442173540.png'),
(201,5,'vvv','2021-03-29','2021-03-29 07:37:15',0,'202103161442173540.png'),
(202,5,'vvv','2021-03-29','2021-03-29 17:49:15',1,'202103161442173540.png'),
(203,2,'vvv','2021-03-01','2021-03-01 08:03:51',0,'202103161657459509.png'),
(204,2,'vvv','2021-03-01','2021-03-01 17:03:56',1,'202103161657459509.png'),
(205,2,'vvv','2021-03-02','2021-03-02 07:53:54',0,'202103161657459509.png'),
(206,2,'vvv','2021-03-02','2021-03-02 16:33:56',1,'202103161657459509.png'),
(207,2,'vvv','2021-03-03','2021-03-03 07:51:15',0,'202103161657459509.png'),
(208,2,'vvv','2021-03-03','2021-03-03 17:01:56',1,'202103161657459509.png'),
(209,2,'vvv','2021-03-04','2021-03-04 08:51:15',0,'202103161657459509.png'),
(210,2,'vvv','2021-03-04','2021-03-04 17:04:56',1,'202103161657459509.png'),
(211,2,'vvv','2021-03-05','2021-03-05 07:31:15',0,'202103161657459509.png'),
(212,2,'vvv','2021-03-05','2021-03-05 17:04:56',1,'202103161657459509.png'),
(213,2,'vvv','2021-03-23','2021-03-23 07:31:15',0,'202103161657459509.png'),
(214,2,'vvv','2021-03-23','2021-03-23 17:44:56',1,'202103161657459509.png'),
(215,2,'vvv','2021-03-09','2021-03-09 07:51:15',0,'202103161657459509.png'),
(216,2,'vvv','2021-03-09','2021-03-09 17:34:56',1,'202103161657459509.png'),
(217,2,'vvv','2021-03-10','2021-03-10 08:01:15',0,'202103161657459509.png'),
(218,2,'vvv','2021-03-10','2021-03-10 17:17:56',1,'202103161657459509.png'),
(221,2,'vvv','2021-03-12','2021-03-12 07:59:15',0,'202103161657459509.png'),
(222,2,'vvv','2021-03-12','2021-03-12 20:35:56',1,'202103161657459509.png'),
(225,2,'vvv','2021-03-15','2021-03-15 07:49:15',0,'202103161657459509.png'),
(226,2,'vvv','2021-03-15','2021-03-15 15:17:56',1,'202103161657459509.png'),
(227,2,'vvv','2021-03-16','2021-03-16 07:49:15',0,'202103161657459509.png'),
(228,2,'vvv','2021-03-16','2021-03-16 11:15:56',1,'202103161657459509.png'),
(229,2,'vvv','2021-03-18','2021-03-18 07:49:15',0,'202103161657459509.png'),
(230,2,'vvv','2021-03-19','2021-03-19 07:15:56',0,'202103161657459509.png'),
(231,2,'vvv','2021-03-18','2021-03-18 19:49:15',1,'202103161657459509.png'),
(232,2,'vvv','2021-03-19','2021-03-19 16:49:15',1,'202103161657459509.png'),
(233,2,'vvv','2021-03-22','2021-03-22 07:49:15',0,'202103161657459509.png'),
(234,2,'vvv','2021-03-22','2021-03-22 17:00:15',1,'202103161657459509.png'),
(235,2,'vvv','2021-03-24','2021-03-24 07:49:15',0,'202103161657459509.png'),
(236,2,'vvv','2021-03-24','2021-03-24 20:00:15',1,'202103161657459509.png'),
(237,2,'vvv','2021-03-25','2021-03-25 07:49:15',0,'202103161657459509.png'),
(238,2,'vvv','2021-03-25','2021-03-25 21:07:15',1,'202103161657459509.png'),
(239,2,'vvv','2021-03-26','2021-03-26 07:49:15',0,'202103161657459509.png'),
(240,2,'vvv','2021-03-26','2021-03-26 17:49:15',1,'202103161657459509.png'),
(241,2,'vvv','2021-03-30','2021-03-30 07:49:15',0,'202103161657459509.png'),
(242,2,'vvv','2021-03-30','2021-03-30 17:49:15',1,'202103161657459509.png'),
(243,2,'vvv','2021-03-31','2021-03-31 07:37:15',0,'202103161657459509.png'),
(244,2,'vvv','2021-03-31','2021-03-31 11:49:15',1,'202103161657459509.png'),
(246,2,'vvv','2021-03-17','2021-03-17 17:49:15',0,'202103161657459509.png'),
(247,2,'vvv','2021-03-29','2021-03-29 07:37:15',0,'202103161657459509.png'),
(248,2,'vvv','2021-03-29','2021-03-29 17:49:15',1,'202103161657459509.png'),
(249,1,'20060097','2021-03-01','2021-03-01 08:03:51',0,'202103171128161156.png'),
(250,1,'20060097','2021-03-01','2021-03-01 17:03:56',1,'202103171128161156.png'),
(251,1,'20060097','2021-03-02','2021-03-02 07:53:54',0,'202103171128161156.png'),
(252,1,'20060097','2021-03-02','2021-03-02 16:33:56',1,'202103171128161156.png'),
(253,1,'20060097','2021-03-03','2021-03-03 07:51:15',0,'202103171128161156.png'),
(254,1,'20060097','2021-03-03','2021-03-03 17:01:56',1,'202103171128161156.png'),
(255,1,'20060097','2021-03-04','2021-03-04 07:51:15',0,'202103171128161156.png'),
(256,1,'20060097','2021-03-04','2021-03-04 17:04:56',1,'202103171128161156.png'),
(257,1,'20060097','2021-03-05','2021-03-05 07:51:15',0,'202103171128161156.png'),
(258,1,'20060097','2021-03-05','2021-03-05 17:04:56',1,'202103171128161156.png'),
(259,1,'20060097','2021-03-23','2021-03-23 07:31:15',0,'202103171128161156.png'),
(260,1,'20060097','2021-03-23','2021-03-23 17:44:56',1,'202103171128161156.png'),
(261,1,'20060097','2021-03-09','2021-03-09 07:51:15',0,'202103171128161156.png'),
(262,1,'20060097','2021-03-09','2021-03-09 17:34:56',1,'202103171128161156.png'),
(263,1,'20060097','2021-03-10','2021-03-10 08:01:15',0,'202103171128161156.png'),
(264,1,'20060097','2021-03-10','2021-03-10 17:17:56',1,'202103171128161156.png'),
(265,1,'20060097','2021-03-12','2021-03-12 07:59:15',0,'202103171128161156.png'),
(266,1,'20060097','2021-03-12','2021-03-12 20:35:56',1,'202103171128161156.png'),
(267,1,'20060097','2021-03-15','2021-03-15 07:49:15',0,'202103171128161156.png'),
(268,1,'20060097','2021-03-15','2021-03-15 15:17:56',1,'202103171128161156.png'),
(269,1,'20060097','2021-03-16','2021-03-16 07:49:15',0,'202103171128161156.png'),
(271,1,'20060097','2021-03-18','2021-03-18 07:49:15',0,'202103171128161156.png'),
(272,1,'20060097','2021-03-19','2021-03-19 07:15:56',0,'202103171128161156.png'),
(273,1,'20060097','2021-03-18','2021-03-18 19:49:15',1,'202103171128161156.png'),
(274,1,'20060097','2021-03-19','2021-03-19 16:49:15',1,'202103171128161156.png'),
(275,1,'20060097','2021-03-22','2021-03-22 07:49:15',0,'202103171128161156.png'),
(276,1,'20060097','2021-03-22','2021-03-22 17:00:15',1,'202103171128161156.png'),
(277,1,'20060097','2021-03-24','2021-03-24 07:49:15',0,'202103171128161156.png'),
(278,1,'20060097','2021-03-24','2021-03-24 18:00:15',1,'202103171128161156.png'),
(279,1,'20060097','2021-03-25','2021-03-25 07:49:15',0,'202103171128161156.png'),
(280,1,'20060097','2021-03-25','2021-03-25 17:00:15',1,'202103171128161156.png'),
(281,1,'20060097','2021-03-26','2021-03-26 07:49:15',0,'202103171128161156.png'),
(282,1,'20060097','2021-03-26','2021-03-26 17:49:15',1,'202103171128161156.png'),
(285,1,'20060097','2021-03-31','2021-03-31 07:37:15',0,'202103171128161156.png'),
(286,1,'20060097','2021-03-31','2021-03-31 11:49:15',1,'202103171128161156.png'),
(287,1,'20060097','2021-03-17','2021-03-17 17:49:15',1,'202103171128161156.png'),
(290,5,'Code','2021-03-08','2021-03-08 07:51:15',0,'202103161442173540.png'),
(291,5,'Code','2021-03-08','2021-03-08 18:34:56',1,'202103161442173540.png'),
(292,1,'20060097','2021-04-01','2021-04-01 17:49:15',0,'202103171128161156.png'),
(293,1,'20060097','2021-04-01','2021-04-01 20:49:15',1,'202103171128161156.png'),
(294,5,'vvv','2021-02-19','2021-02-19 07:15:56',0,'202103161442173540.png'),
(295,4,'Code','2021-02-01','2021-02-01 08:03:51',0,'202103160813178368.png'),
(296,4,'Code','2021-02-01','2021-02-01 17:03:56',1,'202103160817057964.png'),
(297,4,'Code','2021-02-02','2021-02-02 07:53:54',0,'202103160813178368.png'),
(298,4,'Code','2021-02-02','2021-02-02 16:33:56',1,'202103160817057964.png'),
(299,4,'Code','2021-02-03','2021-02-03 07:51:15',0,'202103160813178368.png'),
(300,4,'Code','2021-02-03','2021-02-03 11:15:56',1,'202103160817057964.png'),
(301,4,'Code','2021-02-04','2021-02-04 12:51:15',0,'202103160813178368.png'),
(302,4,'Code','2021-02-04','2021-02-04 17:04:56',1,'202103160817057964.png'),
(303,4,'Code','2021-02-05','2021-02-05 13:51:15',0,'202103160813178368.png'),
(304,4,'Code','2021-02-05','2021-02-05 17:04:56',1,'202103160817057964.png'),
(305,4,'Code','2021-02-23','2021-02-23 07:31:15',0,'202103160813178368.png'),
(306,4,'Code','2021-02-23','2021-02-23 17:44:56',1,'202103160817057964.png'),
(307,4,'Code','2021-02-08','2021-02-08 07:51:15',0,'202103160813178368.png'),
(308,4,'Code','2021-02-08','2021-02-08 18:34:56',1,'202103160817057964.png'),
(309,4,'Code','2021-02-09','2021-02-09 07:51:15',0,'202103160813178368.png'),
(310,4,'Code','2021-02-09','2021-02-09 17:34:56',1,'202103160817057964.png'),
(311,4,'Code','2021-02-10','2021-02-10 08:01:15',0,'202103160813178368.png'),
(312,4,'Code','2021-02-10','2021-02-10 16:17:56',1,'202103160817057964.png'),
(317,4,'Code','2021-02-13','2021-02-13 07:49:15',0,'202103160813178368.png'),
(318,4,'Code','2021-02-13','2021-02-13 19:17:56',1,'202103160817057964.png'),
(323,4,'Code','2021-02-18','2021-02-18 07:49:15',0,'202103160813178368.png'),
(324,4,'Code','2021-02-19','2021-02-19 13:15:56',0,'202103160817057964.png'),
(325,4,'Code','2021-02-18','2021-02-18 19:49:15',1,'202103160813178368.png'),
(327,4,'Code','2021-02-19','2021-02-19 16:49:15',1,'202103160813178368.png'),
(328,4,'Code','2021-02-22','2021-02-22 07:49:15',0,'202103160813178368.png'),
(329,4,'Code','2021-02-22','2021-02-22 17:00:15',1,'202103160813178368.png'),
(330,4,'Code','2021-02-24','2021-02-24 07:49:15',0,'202103160813178368.png'),
(331,4,'Code','2021-02-24','2021-02-24 18:00:15',1,'202103160813178368.png'),
(332,4,'Code','2021-02-25','2021-02-25 07:49:15',0,'202103160813178368.png'),
(333,4,'Code','2021-02-25','2021-02-25 17:00:15',1,'202103160813178368.png'),
(334,4,'Code','2021-02-26','2021-02-26 07:49:15',0,'202103160813178368.png'),
(336,4,'Code','2021-02-26','2021-02-26 17:49:15',1,'202103160813178368.png'),
(338,4,'Code','2021-02-28','2021-02-28 19:49:15',1,'202103160813178368.png'),
(339,4,'Code','2021-02-28','2021-02-28 07:37:15',0,'202103160813178368.png'),
(340,4,'Code','2021-02-28','2021-02-28 11:49:15',1,'202103160813178368.png'),
(341,5,'vvv','2021-02-01','2021-02-01 08:03:51',0,'202103161442173540.png'),
(342,5,'vvv','2021-02-01','2021-02-01 17:03:56',1,'202103161442173540.png'),
(343,5,'vvv','2021-02-02','2021-02-02 07:53:54',0,'202103161442173540.png'),
(344,5,'vvv','2021-02-02','2021-02-02 16:33:56',1,'202103161442173540.png'),
(345,5,'vvv','2021-02-03','2021-02-03 07:51:15',0,'202103161442173540.png'),
(346,5,'vvv','2021-02-03','2021-02-03 12:01:56',1,'202103161442173540.png'),
(347,5,'vvv','2021-02-04','2021-02-04 12:51:15',0,'202103161442173540.png'),
(348,5,'vvv','2021-02-04','2021-02-04 17:04:56',1,'202103161442173540.png'),
(349,5,'vvv','2021-02-05','2021-02-05 13:51:15',0,'202103161442173540.png'),
(350,5,'vvv','2021-02-05','2021-02-05 17:04:56',1,'202103161442173540.png'),
(353,5,'vvv','2021-02-09','2021-02-09 07:51:15',0,'202103161442173540.png'),
(354,5,'vvv','2021-02-09','2021-02-09 17:34:56',1,'202103161442173540.png'),
(375,5,'vvv','2021-02-25','2021-02-25 07:49:15',0,'202103161442173540.png'),
(376,5,'vvv','2021-02-25','2021-02-25 17:00:15',1,'202103161442173540.png'),
(377,5,'vvv','2021-02-26','2021-02-26 07:49:15',0,'202103161442173540.png'),
(378,5,'vvv','2021-02-26','2021-02-26 17:49:15',1,'202103161442173540.png'),
(379,5,'vvv','2021-02-28','2021-02-28 07:49:15',0,'202103161442173540.png'),
(380,5,'vvv','2021-02-28','2021-02-28 21:05:15',1,'202103161442173540.png'),
(381,5,'vvv','2021-02-17','2021-02-17 07:37:15',0,'202103161442173540.png'),
(382,5,'vvv','2021-02-17','2021-02-17 17:49:15',1,'202103161442173540.png'),
(383,5,'vvv','2021-02-28','2021-02-28 07:37:15',0,'202103161442173540.png'),
(384,5,'vvv','2021-02-28','2021-02-28 17:49:15',1,'202103161442173540.png'),
(385,2,'vvv','2021-02-01','2021-02-01 08:03:51',0,'202103161657459509.png'),
(386,2,'vvv','2021-02-01','2021-02-01 17:03:56',1,'202103161657459509.png'),
(387,2,'vvv','2021-02-02','2021-02-02 07:53:54',0,'202103161657459509.png'),
(388,2,'vvv','2021-02-02','2021-02-02 16:33:56',1,'202103161657459509.png'),
(389,2,'vvv','2021-02-03','2021-02-03 07:51:15',0,'202103161657459509.png'),
(390,2,'vvv','2021-02-03','2021-02-03 18:01:56',1,'202103161657459509.png'),
(391,2,'vvv','2021-02-04','2021-02-04 12:51:15',0,'202103161657459509.png'),
(392,2,'vvv','2021-02-04','2021-02-04 17:04:56',1,'202103161657459509.png'),
(393,2,'vvv','2021-02-05','2021-02-05 07:51:15',0,'202103161657459509.png'),
(394,2,'vvv','2021-02-05','2021-02-05 17:04:56',1,'202103161657459509.png'),
(395,2,'vvv','2021-02-23','2021-02-23 07:31:15',0,'202103161657459509.png'),
(396,2,'vvv','2021-02-23','2021-02-23 17:44:56',1,'202103161657459509.png'),
(397,2,'vvv','2021-02-09','2021-02-09 07:51:15',0,'202103161657459509.png'),
(398,2,'vvv','2021-02-09','2021-02-09 17:34:56',1,'202103161657459509.png'),
(407,2,'vvv','2021-02-18','2021-02-18 07:49:15',0,'202103161657459509.png'),
(408,2,'vvv','2021-02-19','2021-02-19 07:15:56',0,'202103161657459509.png'),
(409,2,'vvv','2021-02-18','2021-02-18 19:49:15',1,'202103161657459509.png'),
(410,2,'vvv','2021-02-19','2021-02-19 16:49:15',1,'202103161657459509.png'),
(411,2,'vvv','2021-02-22','2021-02-22 07:49:15',0,'202103161657459509.png'),
(412,2,'vvv','2021-02-22','2021-02-22 17:00:15',1,'202103161657459509.png'),
(413,2,'vvv','2021-02-24','2021-02-24 07:49:15',0,'202103161657459509.png'),
(414,2,'vvv','2021-02-24','2021-02-24 18:00:15',1,'202103161657459509.png'),
(415,2,'vvv','2021-02-25','2021-02-25 07:49:15',0,'202103161657459509.png'),
(416,2,'vvv','2021-02-25','2021-02-25 17:00:15',1,'202103161657459509.png'),
(417,2,'vvv','2021-02-26','2021-02-26 07:49:15',0,'202103161657459509.png'),
(418,2,'vvv','2021-02-26','2021-02-26 17:49:15',1,'202103161657459509.png'),
(419,2,'vvv','2021-02-28','2021-02-28 07:49:15',0,'202103161657459509.png'),
(420,2,'vvv','2021-02-28','2021-02-28 17:49:15',1,'202103161657459509.png'),
(421,2,'vvv','2021-02-28','2021-02-28 07:37:15',0,'202103161657459509.png'),
(422,2,'vvv','2021-02-28','2021-02-28 11:49:15',1,'202103161657459509.png'),
(423,2,'vvv','2021-02-17','2021-02-17 07:49:15',0,'202103161657459509.png'),
(424,2,'vvv','2021-02-28','2021-02-28 07:37:15',0,'202103161657459509.png'),
(425,2,'vvv','2021-02-28','2021-02-28 17:49:15',1,'202103161657459509.png'),
(426,1,'20060097','2021-02-01','2021-02-01 08:03:51',0,'202103171128161156.png'),
(427,1,'20060097','2021-02-01','2021-02-01 17:03:56',1,'202103171128161156.png'),
(428,1,'20060097','2021-02-02','2021-02-02 07:53:54',0,'202103171128161156.png'),
(429,1,'20060097','2021-02-02','2021-02-02 16:33:56',1,'202103171128161156.png'),
(430,1,'20060097','2021-02-03','2021-02-03 07:51:15',0,'202103171128161156.png'),
(431,1,'20060097','2021-02-03','2021-02-03 17:01:56',1,'202103171128161156.png'),
(432,1,'20060097','2021-02-04','2021-02-04 07:51:15',0,'202103171128161156.png'),
(433,1,'20060097','2021-02-04','2021-02-04 17:04:56',1,'202103171128161156.png'),
(434,1,'20060097','2021-02-05','2021-02-05 07:00:00',0,'202103171128161156.png'),
(435,1,'20060097','2021-02-05','2021-02-05 17:04:56',1,'202103171128161156.png'),
(436,1,'20060097','2021-02-23','2021-02-23 07:31:15',0,'202103171128161156.png'),
(437,1,'20060097','2021-02-23','2021-02-23 17:44:56',1,'202103171128161156.png'),
(438,1,'20060097','2021-02-09','2021-02-09 07:51:15',0,'202103171128161156.png'),
(439,1,'20060097','2021-02-09','2021-02-09 17:34:56',1,'202103171128161156.png'),
(447,1,'20060097','2021-02-18','2021-02-18 07:49:15',0,'202103171128161156.png'),
(448,1,'20060097','2021-02-19','2021-02-19 07:15:56',0,'202103171128161156.png'),
(449,1,'20060097','2021-02-18','2021-02-18 19:49:15',1,'202103171128161156.png'),
(450,1,'20060097','2021-02-19','2021-02-19 16:49:15',1,'202103171128161156.png'),
(451,1,'20060097','2021-02-22','2021-02-22 07:49:15',0,'202103171128161156.png'),
(452,1,'20060097','2021-02-22','2021-02-22 17:00:15',1,'202103171128161156.png'),
(453,1,'20060097','2021-02-24','2021-02-24 07:49:15',0,'202103171128161156.png'),
(454,1,'20060097','2021-02-24','2021-02-24 18:00:15',1,'202103171128161156.png'),
(455,1,'20060097','2021-02-25','2021-02-25 07:49:15',0,'202103171128161156.png'),
(456,1,'20060097','2021-02-25','2021-02-25 17:00:15',1,'202103171128161156.png'),
(457,1,'20060097','2021-02-26','2021-02-26 07:49:15',0,'202103171128161156.png'),
(458,1,'20060097','2021-02-26','2021-02-26 17:49:15',1,'202103171128161156.png'),
(461,1,'20060097','2021-02-17','2021-02-17 07:49:15',0,'202103171128161156.png'),
(462,5,'Code','2021-02-08','2021-02-08 07:51:15',0,'202103161442173540.png'),
(463,5,'Code','2021-02-08','2021-02-08 18:34:56',1,'202103161442173540.png'),
(464,1,'20060097','2021-03-01','2021-03-01 17:49:15',0,'202103171128161156.png'),
(465,1,'20060097','2021-03-01','2021-03-01 20:49:15',1,'202103171128161156.png'),
(550,5,'vvv','2021-02-10','2021-02-10 07:51:15',0,'202103161442173540.png'),
(551,5,'vvv','2021-02-10','2021-02-10 17:34:56',1,'202103161442173540.png'),
(552,5,'vvv','2021-04-01','2021-04-01 08:03:51',0,'202103161442173540.png'),
(553,5,'vvv','2021-04-01','2021-04-01 17:03:56',1,'202103161442173540.png'),
(554,5,'vvv','2021-04-02','2021-04-02 07:45:55',0,'202103161442173540.png'),
(555,5,'vvv','2021-04-02','2021-04-02 17:23:43',1,'202103161442173540.png'),
(556,2,'vvv','2021-02-08','2021-02-08 07:55:15',0,'202103161657459509.png'),
(557,2,'vvv','2021-02-08','2021-02-08 17:00:56',1,'202103161657459509.png'),
(558,4,'Code','2021-02-17','2021-02-17 07:49:15',0,'202103160813178368.png'),
(559,4,'Code','2021-02-17','2021-02-17 16:49:15',1,'202103160813178368.png'),
(560,1,'20060097','2021-02-17','2021-02-17 17:49:15',1,'202103171128161156.png'),
(561,1,'20060097','2021-02-08','2021-02-08 07:51:15',0,'202103171128161156.png'),
(562,1,'20060097','2021-02-08','2021-02-08 17:34:56',1,'202103171128161156.png'),
(563,1,'20060097','2021-03-08','2021-03-08 07:51:15',0,'202103171128161156.png'),
(564,1,'20060097','2021-03-08','2021-03-08 17:04:56',1,'202103171128161156.png'),
(565,1,'20060097','2021-03-11','2021-03-11 08:01:15',0,'202103171128161156.png'),
(566,1,'20060097','2021-03-11','2021-03-11 17:17:56',1,'202103171128161156.png'),
(567,1,'20060097','2021-03-17','2021-03-17 07:49:15',0,'202103171128161156.png'),
(568,2,'vvv','2021-02-17','2021-02-17 17:49:15',1,'202103161657459509.png'),
(569,5,'vvv','2021-04-05','2021-04-05 07:52:34',0,'202103161442173540.png'),
(571,5,'NGOCNB','2021-04-06','2021-04-06 08:32:34',0,'202103161442173540.png'),
(572,5,'NGOCNB','2021-04-06','2021-04-06 16:52:12',1,'202103161442173540.png'),
(573,5,'NGOCNB','2021-04-07','2021-04-07 07:52:34',0,'202103161442173540.png'),
(574,5,'NGOCNB','2021-04-07','2021-04-07 15:12:12',1,'202103161442173540.png'),
(575,5,'NGOCNB','2021-04-08','2021-04-08 08:01:34',0,'202103161442173540.png'),
(576,5,'NGOCNB','2021-04-08','2021-04-08 11:12:12',1,'202103161442173540.png'),
(577,5,'NGOCNB','2021-04-09','2021-04-09 12:01:34',0,'202103161442173540.png'),
(578,5,'NGOCNB','2021-04-09','2021-04-09 17:14:12',1,'202103161442173540.png'),
(579,5,'NGOCNB','2021-04-10','2021-04-10 08:00:00',0,'202103161442173540.png'),
(580,5,'NGOCNB','2021-04-10','2021-04-10 17:14:12',1,'202103161442173540.png'),
(581,5,'NGOCNB','2021-04-12','2021-04-12 07:59:00',0,'202103161442173540.png'),
(582,5,'NGOCNB','2021-04-12','2021-04-12 17:00:12',1,'202103161442173540.png'),
(583,5,'NGOCNB','2021-04-13','2021-04-13 07:50:10',0,'202103161442173540.png'),
(584,5,'NGOCNB','2021-04-13','2021-04-13 12:00:12',1,'202103161442173540.png'),
(585,5,'NGOCNB','2021-04-14','2021-04-14 07:52:10',0,'202103161442173540.png'),
(586,5,'NGOCNB','2021-04-14','2021-04-14 09:00:12',1,'202103161442173540.png'),
(589,5,'NGOCNB','2021-04-16','2021-04-16 07:52:10',0,'202103161442173540.png'),
(590,5,'NGOCNB','2021-04-16','2021-04-16 17:00:12',1,'202103161442173540.png'),
(591,5,'NGOCNB','2021-04-18','2021-04-18 07:52:10',0,'202103161442173540.png'),
(592,5,'NGOCNB','2021-04-18','2021-04-18 17:00:12',1,'202103161442173540.png'),
(595,5,'NGOCNB','2021-04-19','2021-04-19 07:53:10',0,'202103161442173540.png'),
(596,5,'NGOCNB','2021-04-19','2021-04-19 17:00:12',1,'202103161442173540.png'),
(628,2,'DUNV','2021-04-01','2021-04-01 08:03:51',0,'202103161657459509.png'),
(629,2,'DUNV','2021-04-01','2021-04-01 17:03:56',1,'202103161657459509.png'),
(630,2,'DUNV','2021-04-02','2021-04-02 07:53:54',0,'202103161657459509.png'),
(631,2,'DUNV','2021-04-02','2021-04-02 16:33:56',1,'202103161657459509.png'),
(632,2,'DUNV','2021-04-06','2021-04-06 07:51:15',0,'202103161657459509.png'),
(633,2,'DUNV','2021-04-06','2021-04-06 17:01:56',1,'202103161657459509.png'),
(634,2,'DUNV','2021-04-08','2021-04-04 08:51:15',0,'202103161657459509.png'),
(635,2,'DUNV','2021-04-08','2021-04-04 17:04:56',1,'202103161657459509.png'),
(636,2,'DUNV','2021-04-05','2021-04-05 07:31:15',0,'202103161657459509.png'),
(637,2,'DUNV','2021-04-05','2021-04-05 17:04:56',1,'202103161657459509.png'),
(638,2,'DUNV','2021-04-09','2021-04-09 07:51:15',0,'202103161657459509.png'),
(639,2,'DUNV','2021-04-09','2021-04-09 17:34:56',1,'202103161657459509.png'),
(640,2,'DUNV','2021-04-13','2021-04-13 08:11:15',0,'202103161657459509.png'),
(641,2,'DUNV','2021-04-13','2021-04-13 17:17:56',1,'202103161657459509.png'),
(642,2,'DUNV','2021-04-12','2021-04-12 07:59:15',0,'202103161657459509.png'),
(643,2,'DUNV','2021-04-12','2021-04-12 20:35:56',1,'202103161657459509.png'),
(644,2,'DUNV','2021-04-15','2021-04-15 07:49:15',0,'202103161657459509.png'),
(645,2,'DUNV','2021-04-15','2021-04-15 15:17:56',1,'202103161657459509.png'),
(646,2,'DUNV','2021-04-16','2021-04-16 07:49:15',0,'202103161657459509.png'),
(647,2,'DUNV','2021-04-16','2021-04-16 16:15:56',1,'202103161657459509.png'),
(648,2,'DUNV','2021-04-14','2021-04-14 07:49:15',0,'202103161657459509.png'),
(649,2,'DUNV','2021-04-19','2021-04-19 07:15:56',0,'202103161657459509.png'),
(650,2,'DUNV','2021-04-14','2021-04-14 19:49:15',1,'202103161657459509.png'),
(651,2,'DUNV','2021-04-19','2021-04-19 16:49:15',1,'202103161657459509.png'),
(659,2,'DUNV','2021-04-07','2021-04-07 07:31:15',0,'202103161657459509.png'),
(660,2,'DUNV','2021-04-07','2021-04-07 17:04:56',1,'202103161657459509.png'),
(661,1,'MINHLT','2021-04-01','2021-04-01 08:03:51',0,'202103171128161156.png'),
(662,1,'MINHLT','2021-04-01','2021-04-01 17:03:56',1,'202103171128161156.png'),
(663,1,'MINHLT','2021-04-02','2021-04-02 07:53:54',0,'202103171128161156.png'),
(664,1,'MINHLT','2021-04-02','2021-04-02 16:33:56',1,'202103171128161156.png'),
(665,1,'MINHLT','2021-04-06','2021-04-06 07:51:15',0,'202103171128161156.png'),
(666,1,'MINHLT','2021-04-06','2021-04-06 17:01:56',1,'202103171128161156.png'),
(667,1,'MINHLT','2021-04-08','2021-04-04 08:51:15',0,'202103171128161156.png'),
(668,1,'MINHLT','2021-04-08','2021-04-04 17:04:56',1,'202103171128161156.png'),
(669,1,'MINHLT','2021-04-05','2021-04-05 07:31:15',0,'202103171128161156.png'),
(670,1,'MINHLT','2021-04-05','2021-04-05 17:04:56',1,'202103171128161156.png'),
(671,1,'MINHLT','2021-04-09','2021-04-09 07:51:15',0,'202103171128161156.png'),
(672,1,'MINHLT','2021-04-09','2021-04-09 17:34:56',1,'202103171128161156.png'),
(673,1,'MINHLT','2021-04-13','2021-04-13 08:01:15',0,'202103171128161156.png'),
(674,1,'MINHLT','2021-04-13','2021-04-13 17:17:56',1,'202103171128161156.png'),
(675,1,'MINHLT','2021-04-12','2021-04-12 07:59:15',0,'202103171128161156.png'),
(676,1,'MINHLT','2021-04-12','2021-04-12 20:35:56',1,'202103171128161156.png'),
(677,1,'MINHLT','2021-04-15','2021-04-15 07:49:15',0,'202103171128161156.png'),
(678,1,'MINHLT','2021-04-15','2021-04-15 15:17:56',1,'202103171128161156.png'),
(679,1,'MINHLT','2021-04-16','2021-04-16 07:49:15',0,'202103171128161156.png'),
(680,1,'MINHLT','2021-04-16','2021-04-16 11:15:56',1,'202103171128161156.png'),
(681,1,'MINHLT','2021-04-14','2021-04-14 07:49:15',0,'202103171128161156.png'),
(683,1,'MINHLT','2021-04-14','2021-04-14 19:49:15',1,'202103171128161156.png'),
(685,1,'MINHLT','2021-04-07','2021-04-07 07:31:15',0,'202103171128161156.png'),
(686,1,'MINHLT','2021-04-07','2021-04-07 17:04:56',1,'202103171128161156.png'),
(692,4,'BAYLV','2021-04-01','2021-04-01 08:03:51',0,'202103160813178368.png'),
(693,4,'BAYLV','2021-04-01','2021-04-01 17:03:56',1,'202103160813178368.png'),
(694,4,'BAYLV','2021-04-02','2021-04-02 07:53:54',0,'202103160813178368.png'),
(695,4,'BAYLV','2021-04-02','2021-04-02 16:33:56',1,'202103160813178368.png'),
(696,4,'BAYLV','2021-04-06','2021-04-06 07:51:15',0,'202103160813178368.png'),
(697,4,'BAYLV','2021-04-06','2021-04-06 17:01:56',1,'202103160813178368.png'),
(698,4,'BAYLV','2021-04-08','2021-04-04 08:51:15',0,'202103160813178368.png'),
(699,4,'BAYLV','2021-04-08','2021-04-04 17:04:56',1,'202103160813178368.png'),
(700,4,'BAYLV','2021-04-05','2021-04-05 07:31:15',0,'202103160813178368.png'),
(701,4,'BAYLV','2021-04-05','2021-04-05 17:04:56',1,'202103160813178368.png'),
(702,4,'BAYLV','2021-04-09','2021-04-09 07:51:15',0,'202103160813178368.png'),
(703,4,'BAYLV','2021-04-09','2021-04-09 17:34:56',1,'202103160813178368.png'),
(704,4,'BAYLV','2021-04-13','2021-04-13 07:01:15',0,'202103160813178368.png'),
(705,4,'BAYLV','2021-04-13','2021-04-13 17:17:56',1,'202103160813178368.png'),
(706,4,'BAYLV','2021-04-12','2021-04-12 07:59:15',0,'202103160813178368.png'),
(707,4,'BAYLV','2021-04-12','2021-04-12 20:35:56',1,'202103160813178368.png'),
(708,4,'BAYLV','2021-04-15','2021-04-15 07:49:15',0,'202103160813178368.png'),
(709,4,'BAYLV','2021-04-15','2021-04-15 15:17:56',1,'202103160813178368.png'),
(710,4,'BAYLV','2021-04-16','2021-04-16 07:49:15',0,'202103160813178368.png'),
(711,4,'BAYLV','2021-04-16','2021-04-16 17:15:56',1,'202103160813178368.png'),
(712,4,'BAYLV','2021-04-14','2021-04-14 07:49:15',0,'202103160813178368.png'),
(713,4,'BAYLV','2021-04-14','2021-04-14 19:49:15',1,'202103160813178368.png'),
(714,4,'BAYLV','2021-04-07','2021-04-07 07:31:15',0,'202103160813178368.png'),
(715,4,'BAYLV','2021-04-07','2021-04-07 17:04:56',1,'202103160813178368.png'),
(716,5,'NGOCNB','2021-04-20','2021-04-20 07:56:34',0,'202103161442173540.png'),
(717,5,'NGOCNB','2021-04-20','2021-04-20 16:30:12',1,'202103161442173540.png'),
(718,5,'NGOCNB','2021-04-13','2021-04-13 12:00:13',1,'202103161442173540.png'),
(719,5,'NGOCNB','2021-04-21','2021-04-21 17:01:02',1,'202103161442173540.png'),
(720,5,'NGOCNB','2021-04-21','2021-04-21 07:35:56',0,'202103161442173540.png'),
(721,5,'NGOCNB','2021-04-22','2021-04-22 07:49:07',0,'202103161442173540.png'),
(722,2,'DUNV','2021-04-20','2021-04-20 07:45:45',0,'202103161657459509.png'),
(723,2,'DUNV','2021-04-20','2021-04-20 17:09:19',1,'202103161657459509.png'),
(724,1,'MINHLT','2021-04-20','2021-04-20 07:55:55',0,'202103171128161156.png'),
(725,1,'MINHLT','2021-04-19','2021-04-19 17:14:15',1,'202103171128161156.png'),
(726,1,'MINHLT','2021-04-19','2021-04-19 07:44:15',0,'202103171128161156.png'),
(727,1,'MINHLT','2021-04-20','2021-04-20 16:55:55',1,'202103171128161156.png'),
(728,4,'BAYLV','2021-04-19','2021-04-19 07:49:15',0,'202103160813178368.png'),
(729,4,'BAYLV','2021-04-19','2021-04-19 17:12:15',1,'202103160813178368.png'),
(730,4,'BAYLV','2021-04-20','2021-04-20 08:00:01',0,'202103160813178368.png'),
(731,4,'BAYLV','2021-04-20','2021-04-20 17:01:01',1,'202103160813178368.png'),
(732,4,'BAYLV','2021-04-22','2021-04-22 08:00:01',0,'202103160813178368.png'),
(733,2,'DUNV','2021-04-22','2021-04-22 07:44:55',0,'202103161657459509.png'),
(734,1,'MINHLT','2021-04-22','2021-04-22 07:15:25',0,'202103171128161156.png');

/*Table structure for table `contract` */

DROP TABLE IF EXISTS `contract`;

CREATE TABLE `contract` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) NOT NULL COMMENT 'FK table staff',
  `start_date` date DEFAULT NULL,
  `end_date` date DEFAULT NULL,
  `stop_date` date NOT NULL,
  `base_salary` double NOT NULL DEFAULT 0,
  `create_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=12 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `contract` */

insert  into `contract`(`id`,`staff_id`,`start_date`,`end_date`,`stop_date`,`base_salary`,`create_at`) values 
(2,1,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(3,5,'2021-01-01','2021-12-31','2021-12-31',15000000,'2021-03-21 09:24:59'),
(4,4,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(5,5,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(6,6,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(7,8,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(8,9,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(9,10,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(10,11,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23'),
(11,35,'2021-01-01','2021-12-31','2021-12-31',10000000,'2021-03-19 15:37:23');

/*Table structure for table `department` */

DROP TABLE IF EXISTS `department`;

CREATE TABLE `department` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `name_vn` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `del` tinyint(1) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `department` */

insert  into `department`(`id`,`name`,`name_vn`,`del`) values 
(1,'IT','Công nghệ thông tin',0),
(2,'HR','Nhân sự',0),
(3,'SALE','Kinh doanh',0),
(4,'Accountant','Kế toán',0),
(5,'Manager','Giám đốc',0);

/*Table structure for table `education` */

DROP TABLE IF EXISTS `education`;

CREATE TABLE `education` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) NOT NULL COMMENT 'FK table staff',
  `level` int(11) NOT NULL DEFAULT 0,
  `level_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `school` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `field_of_study` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `graduated_year` int(11) DEFAULT NULL,
  `grade` varchar(128) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mode_of_study` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `education` */

insert  into `education`(`id`,`staff_id`,`level`,`level_name`,`school`,`field_of_study`,`graduated_year`,`grade`,`mode_of_study`) values 
(1,1,1,'Tiểu học','NGUYỄN HUỆ','KHÔNG',2009,'GIỎI','CHÍNH QUY'),
(2,2,2,'TRUNG CẤP','ĐH MỞ','TIN HỌC VIỄN THÔNG',2017,'KHÁ','CHÍNH QUY'),
(3,3,3,'CAO ĐẲNG','HOA SEN','QLĐH NHKS',2014,'TB','HỢP TÁC QUỐC TẾ'),
(4,4,4,'ĐẠI HỌC','ĐH KHXH-NV','CÔNG NGHỆ THÔNG TIN',2015,'KHÔNG','LIÊN THÔNG'),
(5,5,5,'TRÊN ĐẠI HỌC','HOA SEN','CÔNG NGHỆ THÔNG TIN',2015,'KHÔNG','LIÊN THÔNG'),
(6,6,4,'Tiểu học','ĐH MỞ','CÔNG NGHỆ THÔNG TIN',2014,'GIỎI','CHÍNH QUY'),
(7,1,4,'Tiểu học','ĐH KHXH-NV','TIN HỌC VIỄN THÔNG',2017,'GIỎI','CHÍNH QUY'),
(8,11,2,'Đại học','ĐH MỞ','CÔNG NGHỆ THÔNG TIN',2014,'GIỎI','CHÍNH QUY');

/*Table structure for table `kpi` */

DROP TABLE IF EXISTS `kpi`;

CREATE TABLE `kpi` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) DEFAULT NULL COMMENT 'FK table staff, kpi ca nhan',
  `department_id` int(11) DEFAULT NULL COMMENT 'FK table department, kpi phong ban',
  `kpi_name` varchar(255) COLLATE utf8_unicode_ci NOT NULL,
  `created_at` datetime DEFAULT NULL,
  `update_at` datetime DEFAULT NULL,
  `is_approved` varchar(1) COLLATE utf8_unicode_ci DEFAULT '0',
  `approved_by` int(11) DEFAULT NULL,
  `del` tinyint(1) DEFAULT 0,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=49 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `kpi` */

insert  into `kpi`(`id`,`staff_id`,`department_id`,`kpi_name`,`created_at`,`update_at`,`is_approved`,`approved_by`,`del`) values 
(2,4,NULL,'Quý II - 2021','2021-02-19 11:36:39','2021-02-25 17:42:32','0',0,0),
(18,4,NULL,'Năm 2021','2021-02-23 09:39:45',NULL,'1',5,0),
(19,4,NULL,'Quý I - 2021','2021-02-23 09:41:50',NULL,'1',4,0),
(20,4,NULL,'Quý IV - 2021','2021-02-23 09:43:22',NULL,'1',5,0),
(21,NULL,1,'Quý I - 2021','2021-02-23 09:50:04',NULL,'1',5,0),
(23,1,NULL,'Năm 2021','2021-02-23 17:12:52',NULL,'1',4,0),
(24,2,NULL,'Quý II - 2021','2021-02-24 10:00:53',NULL,'2',2,0),
(26,2,NULL,'Quý IV - 2021','2021-02-24 10:06:24',NULL,'1',5,0),
(28,5,NULL,'Năm 2021','2021-02-24 10:48:10',NULL,'1',5,0),
(29,NULL,2,'Năm 2021','2021-02-24 10:48:25',NULL,'1',5,0),
(30,2,NULL,'Quý III - 2021','2021-02-24 10:58:34','2021-02-25 17:38:55','2',2,0),
(31,1,NULL,'Quý III - 2021','2021-02-24 11:12:04',NULL,'1',4,0),
(32,1,NULL,'Quý II - 2021','2021-02-24 16:14:02','2021-02-24 17:19:05','2',2,0),
(33,1,NULL,'Quý IV - 2021','2021-02-24 16:35:37','2021-02-25 17:47:56','0',0,0),
(34,NULL,1,'Năm 2021','2021-02-24 16:58:53','2021-02-25 17:00:25','1',4,0),
(35,NULL,1,'Quý IV - 2021','2021-02-24 17:10:19','2021-02-25 17:01:06','2',2,0),
(36,NULL,1,'Quý III - 2021','2021-02-24 17:10:55','2021-02-25 17:00:49','1',5,0),
(37,2,NULL,'Quý I - 2021','2021-02-24 17:14:22','2021-02-25 17:02:08','2',2,0),
(40,5,NULL,'Quý I - 2021','2021-02-25 09:04:12','2021-03-15 08:43:24','1',5,0),
(41,5,NULL,'Quý III - 2021','2021-02-25 09:08:57',NULL,'1',5,0),
(42,5,NULL,'Quý II - 2021','2021-02-25 09:51:58',NULL,'1',5,0),
(43,NULL,2,'Quý I - 2021','2021-02-25 16:50:09','2021-02-25 16:57:15','1',5,0),
(44,2,NULL,'Năm 2021','2021-02-25 17:03:04',NULL,'2',2,0),
(46,4,NULL,'Quý III - 2021','2021-02-25 17:43:50','2021-02-25 17:44:47','0',0,0),
(47,1,NULL,'Quý I - 2021','2021-02-25 17:48:40','2021-02-25 17:48:55','0',0,0),
(48,5,NULL,'Quý IV - 2021','2021-03-14 18:51:38',NULL,'1',5,0);

/*Table structure for table `kpi_detail` */

DROP TABLE IF EXISTS `kpi_detail`;

CREATE TABLE `kpi_detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `kpi_id` int(11) NOT NULL COMMENT 'FK table kpi_member',
  `task_target` varchar(1000) COLLATE utf8_unicode_ci NOT NULL,
  `task_description` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `duties_activities` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `skill` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `ratio` int(11) NOT NULL,
  `del` tinyint(1) DEFAULT 0,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=75 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `kpi_detail` */

insert  into `kpi_detail`(`id`,`kpi_id`,`task_target`,`task_description`,`duties_activities`,`skill`,`ratio`,`del`) values 
(1,2,'Xây dựng web service','Xây dựng web service để call','Trao đổi với người dùng -> Research -> Bắt đầu làm','Kĩ năng nói, kĩ năng xây dựng',10,0),
(2,2,'Xây dựng web service','Xây dựng web service để call','abc','anb',90,0),
(16,18,'Test','Test','Test','Test',30,0),
(17,18,'Test','Test','Test','Test',70,0),
(18,19,'Test2','Test2','Test2','Test2',100,0),
(19,20,'ccc','ccc','ccc','ccc',100,0),
(20,21,'target department','des department','department','department',30,0),
(21,21,'department','department','department','department',70,0),
(22,22,'Phạm Anh Tuấn123','Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn',50,0),
(23,22,'Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn',30,0),
(24,22,'Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn',20,0),
(25,22,'Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn',10,1),
(26,22,'Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn','Phạm Anh Tuấn',10,1),
(27,22,'zxc','id','id','id',0,1),
(28,22,'zxc','zxc','zxc','zxc',0,1),
(29,22,'zxc','zxc','zxc','zxc',0,1),
(30,23,'Test','Test','Test','Test',50,0),
(31,23,'Test','Test','Test','Test',50,0),
(32,24,'zxc','zxc','zxc','zxc',100,0),
(33,25,'zxc','zxc','zxc','zxc',100,0),
(34,26,'test','test','test','test',100,0),
(35,27,'test','test','test','test',100,0),
(36,28,'zxc','zxc','zxc','zxc',100,0),
(37,29,'zxc','zxc','zxc','zxc',20,0),
(38,29,'zxc','zxc','zxc','zxc',80,0),
(39,30,'Test','Test','Test','Test',80,0),
(40,31,'Test','Test','Test','Test',0,1),
(41,31,'Test','Test','Test','Test',50,0),
(42,31,'Test','Test','Test','Test',20,0),
(43,31,'Test','Test','Test','Test',30,0),
(44,32,'Test','Test','Test','Test',50,0),
(45,32,'zxc','zxc','zxc','zxc',50,0),
(46,33,'zxc','zxc','zxc','zxc',0,1),
(47,33,'cxz','cxz','cxz','cxz',100,0),
(48,34,'zxc','zxc','zxc','zxc',50,0),
(49,34,'zxc','zxc','zxc','zxc',50,0),
(50,35,'Test','Test','Test','Test',60,0),
(51,36,'Test','Test','Test','Test',100,0),
(52,37,'zxc','zxc','zxc','zxc',80,0),
(53,38,'Test','Test','Test','Test',100,0),
(54,39,'test','test','test','test',50,0),
(55,40,'Tạo nền móng vững chắc',NULL,NULL,NULL,50,0),
(56,41,'retur false;56456','retur false;56456','retur false;56456','retur false;56456',50,0),
(57,41,'retur false;56456','retur false;56456','retur false;56456','retur false;56456',50,0),
(58,42,'zxc','s','zxc','zxc',0,0),
(59,42,'zxc','zxc','zxc','zxc',0,0),
(60,42,'zxc','zxc','zxc','zxc',50,0),
(61,42,'zxc','zxc','zxc','zxc',50,0),
(62,39,'test','test','test','test',50,0),
(63,43,'test','test','test','test',50,0),
(64,43,'test','test','test','test',50,0),
(65,35,'Test','Test','Test','Test',40,0),
(66,37,'zxc','staff_id','staff_id','staff_id',20,0),
(67,44,'zxc','zxc','zxc','zxc',100,0),
(68,30,'Test','Test','Test','Test',20,0),
(69,45,'test','test','test','test',100,0),
(70,46,'Test','Test','Test','Test',80,0),
(71,46,'Test','Test','Test','Test',20,0),
(72,47,'Test','Test','Test','Test',98,0),
(73,47,'zxc','zxc','zxc','zxc',2,0),
(74,40,'Tạo nền móng vững chắc',NULL,NULL,NULL,50,0);

/*Table structure for table `kpi_detail_child` */

DROP TABLE IF EXISTS `kpi_detail_child`;

CREATE TABLE `kpi_detail_child` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `kpi_detail_id` int(11) DEFAULT NULL,
  `name` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `number_target` int(11) DEFAULT NULL,
  `number_get` int(11) DEFAULT NULL,
  `confidence_level` int(1) DEFAULT NULL,
  `duties_activities` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `skill` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `evaluation` text COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=22 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `kpi_detail_child` */

insert  into `kpi_detail_child`(`id`,`kpi_detail_id`,`name`,`number_target`,`number_get`,`confidence_level`,`duties_activities`,`skill`,`evaluation`) values 
(17,55,'Đưa vào hoạt động 4 Quy trình, chính sách mới',4,3,NULL,'- Đủ trình độ','- Giao tiếp',NULL),
(18,55,'Đưa vào hoạt động 4 Quy trình, chính sách mới',4,4,NULL,'- Đủ trình độ','- Giao tiếp',NULL),
(19,55,'zxczxc123',4,2,NULL,'Đủ trình độ','Giao tiếp',NULL),
(20,55,'nkjnjk',2,1,NULL,'bhj','hu',NULL),
(21,74,'zxc',5,0,NULL,'zxc','zxc',NULL);

/*Table structure for table `leave_other` */

DROP TABLE IF EXISTS `leave_other`;

CREATE TABLE `leave_other` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) NOT NULL,
  `type_leave` int(2) NOT NULL,
  `from_date` date NOT NULL,
  `to_date` date NOT NULL,
  `image` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `note` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_approved` int(1) DEFAULT 0,
  `day_approved` date DEFAULT NULL,
  `created_at` date DEFAULT NULL,
  `done` int(1) DEFAULT 0,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=21 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `leave_other` */

insert  into `leave_other`(`id`,`staff_id`,`type_leave`,`from_date`,`to_date`,`image`,`note`,`is_approved`,`day_approved`,`created_at`,`done`) values 
(14,5,6,'2021-02-22','2021-02-24','/images/other_leave/02042021/9b6a1f4e-8567-4dfa-95cf-bcd57e887df2.jpg','Em kết hôn',1,'2021-02-25','2021-02-19',0),
(15,11,5,'2021-02-01','2021-08-01','/images/other_leave/02042021/43f2c1f4-a197-4e32-a156-c3680173fd0e.jpg','Sinh con',1,'2021-04-02','2021-04-02',0);

/*Table structure for table `regional` */

DROP TABLE IF EXISTS `regional`;

CREATE TABLE `regional` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `parent` int(11) unsigned DEFAULT NULL,
  `del` tinyint(4) NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=4251 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `regional` */

insert  into `regional`(`id`,`name`,`parent`,`del`) values 
(3410,'An Giang',0,0),
(3411,'Bà Rịa - Vũng Tàu',0,0),
(3412,'Bạc Liêu',0,0),
(3413,'Bắc Kạn',0,0),
(3414,'Bắc Giang',0,0),
(3415,'Bắc Ninh',0,0),
(3416,'Bến Tre',0,0),
(3417,'Bình Dương',0,0),
(3418,'Bình Định',0,0),
(3419,'Bình Phước',0,0),
(3420,'Bình Thuận',0,0),
(3421,'Cà Mau',0,0),
(3422,'Cao Bằng',0,0),
(3423,'Cần Thơ',0,0),
(3424,'Đà Nẵng',0,0),
(3425,'Đắk Lắk',0,0),
(3426,'Đắk Nông',0,0),
(3427,'Điện Biên',0,0),
(3428,'Đồng Nai',0,1),
(3429,'Đồng Tháp',0,0),
(3430,'Gia Lai',0,0),
(3431,'Hà Giang',0,0),
(3432,'Hà Nam',0,0),
(3433,'Hà Nội 1',0,0),
(3434,'Hà Tĩnh',0,0),
(3435,'Hải Dương',0,0),
(3436,'Hải Phòng',0,0),
(3437,'Hậu Giang',0,0),
(3439,'Hồ Chí Minh 2',0,0),
(3440,'Hưng Yên',0,0),
(3441,'Khánh Hòa',0,0),
(3442,'Kiên Giang',0,0),
(3443,'Kon Tum',0,0),
(3444,'Lai Châu',0,0),
(3445,'Lâm Đồng',0,0),
(3446,'Lạng Sơn',0,0),
(3447,'Lào Cai',0,0),
(3448,'Long An',0,0),
(3449,'Nam Định',0,0),
(3450,'Nghệ An',0,0),
(3451,'Ninh Bình',0,0),
(3452,'Ninh Thuận',0,0),
(3453,'Phú Thọ',0,0),
(3454,'Phú Yên',0,0),
(3455,'Quảng Bình',0,0),
(3456,'Quảng Nam',0,0),
(3457,'Quảng Ngãi',0,0),
(3458,'Quảng Ninh',0,0),
(3459,'Quảng Trị',0,0),
(3460,'Sóc Trăng',0,0),
(3461,'Sơn La',0,0),
(3462,'Tây Ninh',0,0),
(3463,'Thái Bình',0,0),
(3464,'Thái Nguyên',0,0),
(3465,'Thanh Hóa',0,0),
(3466,'Thừa Thiên Huế',0,0),
(3467,'Tiền Giang',0,0),
(3468,'Trà Vinh',0,0),
(3469,'Tuyên Quang',0,0),
(3470,'Vĩnh Long',0,0),
(3471,'Vĩnh Phúc',0,0),
(3472,'Yên Bái',0,0),
(3473,'Quận 1',3439,0),
(3474,'Quận 2',4187,0),
(3475,'Quận 3',3439,0),
(3476,'Quận 4',4188,0),
(3477,'Quận 5',4188,0),
(3478,'Quận 6',4186,0),
(3479,'Quận 7',4188,0),
(3480,'Quận 8',4186,0),
(3481,'Quận 9',4187,0),
(3482,'Quận 10',3439,0),
(3483,'Quận 11',4186,0),
(3484,'Quận 12',4192,0),
(3485,'Quận Phú Nhuận',3439,0),
(3486,'Quận Bình Tân',4186,0),
(3487,'Quận Bình Thạnh',4187,0),
(3488,'Quận Tân Bình',3439,0),
(3489,'Quận Tân Phú',4186,0),
(3490,'Quận Gò Vấp',4192,0),
(3491,'Quận Thủ Đức',4187,0),
(3492,'Huyện Nhà Bè',4188,0),
(3493,'Huyện Củ Chi',4192,0),
(3494,'Huyện Cần Giờ',4188,0),
(3495,'Huyện Hóc Môn',4192,0),
(3496,'Huyện Bình Chánh',4186,0),
(3498,'Huyện Ba Vì',4190,0),
(3499,'Huyện Chương Mỹ',4190,0),
(3500,'Huyện Đan Phượng',4190,0),
(3501,'Huyện Đông Anh',4191,0),
(3502,'Huyện Gia Lâm',4191,0),
(3503,'Huyện Hoài Đức',4190,0),
(3504,'Huyện Mê Linh',4191,0),
(3505,'Huyện Mỹ Đức',4190,0),
(3506,'Huyện Phú Xuyên',4190,0),
(3507,'Huyện Phúc Thọ',4190,0),
(3508,'Huyện Quốc Oai',4190,0),
(3509,'Huyện Sóc Sơn',4191,0),
(3510,'Huyện Thanh Oai',4190,0),
(3511,'Huyện Thanh Trì',4190,0),
(3512,'Huyện Thường Tín',4190,0),
(3513,'Quận Nam Từ Liêm',3433,0),
(3514,'Huyện Ứng Hòa',4190,0),
(3516,'Quận Cầu Giấy',3433,0),
(3518,'Quận Hà Đông',4190,0),
(3522,'Quận Long Biên',4191,0),
(3523,'Quận Tây Hồ',3433,0),
(3524,'Quận Thanh Xuân',3433,0),
(3525,'Thị Xã Sơn Tây',4190,0),
(3526,'Trung Tâm Thành phố',3436,1),
(3527,'Huyện An Dương',3436,0),
(3528,'Huyện An Lão',3436,0),
(3529,'Huyện Bạch Long Vĩ',3436,0),
(3530,'Huyện Cát Hải',3436,0),
(3531,'Huyện Kiến Thụy',3436,0),
(3532,'Huyện Thủy Nguyên',3436,0),
(3533,'Huyện Tiên Lãng',3436,0),
(3534,'Huyện Vĩnh Bảo',3436,0),
(3535,'Quận Đồ Sơn',3436,0),
(3536,'Quận Dương Kinh',3436,0),
(3537,'Quận Hải An',3436,0),
(3538,'Quận Hồng Bàng',3436,0),
(3539,'Quận Kiến An',3436,0),
(3540,'Quận Lê Chân',3436,0),
(3541,'Quận Ngô Quyền',3436,0),
(3542,'Trung Tâm Thành phố',3424,1),
(3543,'Huyện Hòa Vang',3424,0),
(3544,'Huyện Hoàng Sa',3424,0),
(3545,'Quận Cẩm Lệ',3424,0),
(3546,'Quận Hải Châu',3424,0),
(3547,'Quận Liên Chiểu',3424,0),
(3548,'Quận Ngũ Hành Sơn',3424,0),
(3549,'Quận Sơn Trà',3424,0),
(3550,'Quận Thanh Khê',3424,0),
(3552,'Huyện Cờ Đỏ',3423,0),
(3553,'Huyện Phong Điền',3423,0),
(3554,'Huyện Thới Lai',3423,0),
(3555,'Huyện Vĩnh Thạnh',3423,0),
(3556,'Quận Cái Răng',3423,0),
(3557,'Quận Ninh Kiều',3423,0),
(3558,'Quận Ô Môn',3423,0),
(3559,'Quận Thốt Nốt',3423,0),
(3560,'Huyện A Lưới',3466,0),
(3561,'Thị xã Hương Trà',3466,0),
(3562,'Huyện Nam Đông',3466,0),
(3563,'Huyện Phong Điền',3466,0),
(3564,'Huyện Phú Lộc',3466,0),
(3565,'Huyện Phú Vang',3466,0),
(3566,'Huyện Quảng Điền',3466,0),
(3567,'Thành Phố Huế',3466,0),
(3568,'Thị Xã Hương Thủy',3466,0),
(3569,'Huyện Ba Chẽ',3458,0),
(3570,'Huyện Bình Liêu',3458,0),
(3571,'Huyện Cô Tô',3458,0),
(3572,'Huyện Đầm Hà',3458,0),
(3573,'Thị xã Đông Triều',3458,0),
(3574,'Huyện Hải Hà',3458,0),
(3575,'Huyện Hoành Bồ',3458,1),
(3576,'Huyện Vân Đồn',3458,0),
(3577,'Thị xã Quảng Yên',3458,1),
(3578,'Thành phố Hạ Long',3458,0),
(3579,'Thành phố Móng Cái',3458,0),
(3580,'Thành phố Cẩm Phả',3458,0),
(3581,'Thành phố Uông Bí',3458,0),
(3582,'Huyện An Phú',3410,0),
(3583,'Huyện Châu Phú',3410,0),
(3584,'Huyện Châu Thành',3410,0),
(3585,'Huyện Chợ Mới',3410,0),
(3586,'Huyện Phú Tân',3410,0),
(3587,'Huyện Thoại Sơn',3410,0),
(3588,'Huyện Tịnh Biên',3410,0),
(3589,'Huyện Tri Tôn',3410,0),
(3590,'Thành phố Long Xuyên',3410,0),
(3591,'Thành phố Châu Đốc',3410,0),
(3592,'Thị Xã Tân Châu',3410,0),
(3593,'Huyện Châu Đức',3411,0),
(3594,'Huyện Côn Đảo',3411,0),
(3595,'Huyện Đất Đỏ',3411,0),
(3596,'Huyện Long Điền',3411,0),
(3597,'Thị Xã Phú Mỹ',3411,0),
(3598,'Huyện Xuyên Mộc',3411,0),
(3599,'Thành phố Vũng Tàu',3411,0),
(3600,'Thành phố Bà Rịa',3411,0),
(3601,'Huyện Hiệp Hòa',3414,0),
(3602,'Huyện Lạng Giang',3414,0),
(3603,'Huyện Lục Nam',3414,0),
(3604,'Huyện Lục Ngạn',3414,0),
(3605,'Huyện Sơn Động',3414,0),
(3606,'Huyện Tân Yên',3414,0),
(3607,'Huyện Việt Yên',3414,0),
(3608,'Huyện Yên Dũng',3414,0),
(3609,'Huyện Yên Thế',3414,0),
(3610,'Thành phố Bắc Giang',3414,0),
(3611,'Huyện Ba Bể',3413,0),
(3612,'Huyện Bạch Thông',3413,0),
(3613,'Huyện Chợ Đồn',3413,0),
(3614,'Huyện Chợ Mới',3413,0),
(3615,'Huyện Na Rì',3413,0),
(3616,'Huyện Ngân Sơn',3413,0),
(3617,'Huyện Pác Nặm',3413,0),
(3618,'Thành Phố Bắc Kạn',3413,0),
(3619,'Huyện Đông Hải',3412,0),
(3620,'Thị xã Giá Rai',3412,0),
(3621,'Huyện Hòa Bình',3412,0),
(3622,'Huyện Hồng Dân',3412,0),
(3623,'Huyện Phước Long',3412,0),
(3624,'Huyện Vĩnh Lợi',3412,0),
(3625,'Thành Phố Bạc Liêu',3412,0),
(3626,'Huyện Gia Bình',3415,0),
(3627,'Huyện Lương Tài',3415,0),
(3628,'Huyện Quế Võ',3415,0),
(3629,'Huyện Thuận Thành',3415,0),
(3630,'Huyện Tiên Du',3415,0),
(3631,'Huyện Yên Phong',3415,0),
(3632,'Thành phố Bắc Ninh',3415,0),
(3633,'Thị Xã Từ Sơn',3415,0),
(3634,'Huyện Ba Tri',3416,0),
(3635,'Huyện Bình Đại',3416,0),
(3636,'Huyện Châu Thành',3416,0),
(3637,'Huyện Chợ Lách',3416,0),
(3638,'Huyện Giồng Trôm',3416,0),
(3639,'Huyện Mỏ Cày Bắc',3416,0),
(3640,'Huyện Mỏ Cày Nam',3416,0),
(3641,'Huyện Thạnh Phú',3416,0),
(3642,'Thành phố Bến Tre',3416,0),
(3643,'Huyện An Lão',3418,0),
(3644,'Thị xã An Nhơn',3418,0),
(3645,'Huyện Hoài Ân',3418,0),
(3646,'Thị xã Hoài Nhơn',3418,0),
(3647,'Huyện Phù Mỹ',3418,0),
(3648,'Huyện Phù cát',3418,0),
(3649,'Huyện Tây Sơn',3418,0),
(3650,'Huyện Tuy Phước',3418,0),
(3651,'Huyện Vân Canh',3418,0),
(3652,'Huyện Vĩnh Thạnh',3418,0),
(3653,'Thành phố Qui Nhơn',3418,0),
(3654,'Thị xã Bến Cát',3417,0),
(3655,'Huyện Dầu Tiếng',3417,0),
(3656,'Thành Phố Dĩ An',3417,0),
(3657,'Huyện Phú Giáo',3417,0),
(3658,'Thị xã Tân Uyên',3417,0),
(3659,'Thành Phố Thuận An',3417,0),
(3660,'Thành phố Thủ Dầu Một',3417,0),
(3661,'Huyện Bù Đăng',3419,0),
(3662,'Huyện Bù Đốp',3419,0),
(3663,'Huyện Bù Gia Mập',3419,0),
(3664,'Huyện Chơn Thành',3419,0),
(3665,'Huyện Đồng Phú',3419,0),
(3666,'Huyện Hớn Quản',3419,0),
(3667,'Huyện Lộc Ninh',3419,0),
(3668,'Thị Xã Bình Long',3419,0),
(3669,'Thành Phố Đồng Xoài',3419,0),
(3670,'Thị Xã Phước Long',3419,0),
(3671,'Huyện Đức Linh',3420,0),
(3672,'Huyện Bắc Bình',3420,0),
(3673,'Huyện Hàm Tân',3420,0),
(3674,'Huyện Hàm Thuận Bắc',3420,0),
(3675,'Huyện Hàm Thuận Nam',3420,0),
(3676,'Huyện Phú Quí',3420,0),
(3677,'Huyện Tánh Linh',3420,0),
(3678,'Huyện Tuy Phong',3420,0),
(3679,'Thành phố Phan Thiết',3420,0),
(3680,'Thị Xã La Gi',3420,0),
(3681,'Huyện Cái Nước',3421,0),
(3682,'Huyện Đầm Dơi',3421,0),
(3683,'Huyện Năm Căn',3421,0),
(3684,'Huyện Ngọc Hiển',3421,0),
(3685,'Huyện Phú Tân',3421,0),
(3686,'Huyện Thới Bình',3421,0),
(3687,'Huyện Trần Văn Thời',3421,0),
(3688,'Huyện U Minh',3421,0),
(3689,'Thành phố Cà Mau',3421,0),
(3690,'Huyện Bảo Lạc',3422,0),
(3691,'Huyện Bảo Lâm',3422,0),
(3692,'Huyện Hạ Lang',3422,0),
(3693,'Huyện Hà Quảng',3422,0),
(3694,'Huyện Hòa An',3422,0),
(3695,'Huyện Nguyên Bình',3422,0),
(3696,'Huyện Quảng Hòa',3422,1),
(3697,'Huyện Quảng Hòa',3422,0),
(3698,'Huyện Thạch An',3422,0),
(3699,'Huyện Thông Nông',3422,0),
(3700,'huyện Trùng Khánh',3422,1),
(3701,'Huyện Trùng Khánh',3422,0),
(3702,'Thành Phố Cao Bằng',3422,0),
(3703,'Huyện Buôn Đôn',3425,0),
(3704,'Huyện Cư Kuin',3425,0),
(3705,'Huyện Cư M\'gar',3425,0),
(3706,'Huyện Ea Kar',3425,0),
(3707,'Huyện Ea Súp',3425,0),
(3708,'Huyện Ea H\'leo',3425,0),
(3709,'Huyện Krông A Na',3425,0),
(3710,'Huyện Krông Bông',3425,0),
(3711,'Huyện Krông Búk',3425,0),
(3712,'Huyện Krông Năng',3425,0),
(3713,'Huyện Krông Pắc',3425,0),
(3714,'Huyện Lắk',3425,0),
(3715,'Huyện M\'Đrắk',3425,0),
(3716,'Thành phố Buôn Ma Thuột',3425,0),
(3717,'Thị Xã Buôn Hồ',3425,0),
(3718,'Huyện Cư Jút',3426,0),
(3719,'Huyện Đăk Glong',3426,0),
(3720,'Huyện Đắk Mil',3426,0),
(3721,'Huyện Đắk R\'Lấp',3426,0),
(3722,'Huyện Đắk Song',3426,0),
(3723,'Huyện KRông Nô',3426,0),
(3724,'Huyện Tuy Đức',3426,0),
(3725,'Thành phố Gia Nghĩa',3426,0),
(3726,'Huyện Điện Biên',3427,0),
(3727,'Huyện Điện Biên Đông',3427,0),
(3728,'Huyện Mường Chà',3427,0),
(3729,'Huyện Mường Nhé',3427,0),
(3730,'Huyện Mường ảng',3427,0),
(3731,'Huyện Tủa Chùa',3427,0),
(3732,'Huyện Tuần Giáo',3427,0),
(3733,'Thành phố Điện Biên phủ',3427,0),
(3734,'Thị Xã Mường Lay',3427,0),
(3735,'Huyện Cẩm Mỹ',4211,0),
(3736,'Huyện Định Quán',4211,0),
(3737,'Huyện Long Thành',4211,0),
(3738,'Huyện Nhơn Trạch',4211,0),
(3739,'Huyện Tân Phú',4211,0),
(3740,'Huyện Thống Nhất',4211,0),
(3741,'Huyện Trảng Bom',4210,0),
(3742,'Huyện Vĩnh Cửu',4210,0),
(3743,'Huyện Xuân Lộc',4211,0),
(3744,'Thành phố Biên Hòa',4210,0),
(3745,'Thành phố Long Khánh',4211,0),
(3746,'Huyện Cao Lãnh',3429,0),
(3747,'Huyện Châu Thành',3429,0),
(3748,'Huyện Hồng Ngự',3429,0),
(3749,'Huyện Lai Vung',3429,0),
(3750,'Huyện Lấp Vò',3429,0),
(3751,'Huyện Tam Nông',3429,0),
(3752,'Huyện Tân Hồng',3429,0),
(3753,'Huyện Thanh Bình',3429,0),
(3754,'Huyện Tháp Mười',3429,0),
(3755,'Thành phố Cao Lãnh',3429,0),
(3756,'Thành phố Hồng Ngự',3429,0),
(3757,'Thành Phố Sa Đéc',3429,0),
(3758,'Huyện Chư Păh',3430,0),
(3759,'Huyện Chư Pưh',3430,0),
(3760,'Huyện Chư Sê',3430,0),
(3761,'Huyện Chư Prông',3430,0),
(3762,'Huyện Đăk Đoa',3430,0),
(3763,'Huyện Đăk Pơ',3430,0),
(3764,'Huyện Đức Cơ',3430,0),
(3765,'Huyện Ia Grai',3430,0),
(3766,'Huyện Ia Pa',3430,0),
(3767,'Huyện KBang',3430,0),
(3768,'Huyện Kông Chro',3430,0),
(3769,'Huyện Krông Pa',3430,0),
(3770,'Huyện Mang Yang',3430,0),
(3771,'Huyện Phú Thiện',3430,0),
(3772,'Thành phố Pleiku',3430,0),
(3773,'Thị Xã AYun Pa',3430,0),
(3774,'Thị Xã An Khê',3430,0),
(3775,'Huyện Bắc Mê',3431,0),
(3776,'Huyện Bắc Quang',3431,0),
(3777,'Huyện Đồng Văn',3431,0),
(3778,'Huyện Hoàng Su Phì',3431,0),
(3779,'Huyện Mèo Vạc',3431,0),
(3780,'Huyện Quản Bạ',3431,0),
(3781,'Huyện Quang Bình',3431,0),
(3782,'Huyện Xín Mần',3431,0),
(3783,'Huyện Yên Minh',3431,0),
(3784,'Thành Phố Hà Giang',3431,0),
(3785,'Huyện Bình Lục',3432,0),
(3786,'Thị xã Duy Tiên',3432,0),
(3787,'Huyện Kim Bảng',3432,0),
(3788,'Huyện Lý Nhân',3432,0),
(3789,'Huyện Thanh Liêm',3432,0),
(3790,'Thành phố Phủ Lý',3432,0),
(3791,'Huyện Cẩm Xuyên',3434,0),
(3792,'Huyện Can Lộc',3434,0),
(3793,'Huyện Đức Thọ',3434,0),
(3794,'Huyện Hương Khê',3434,0),
(3795,'Huyện Hương Sơn',3434,0),
(3796,'Huyện Kỳ Anh',3434,0),
(3797,'Huyện Lộc Hà',3434,0),
(3798,'Huyện Nghi Xuân',3434,0),
(3799,'Huyện Thạch Hà',3434,0),
(3800,'Huyện Vũ Quang',3434,0),
(3801,'Thành phố Hà Tĩnh',3434,0),
(3802,'Thị Xã Hồng Lĩnh',3434,0),
(3803,'Huyện Bình Giang',3435,0),
(3804,'Huyện Cẩm Giàng',3435,0),
(3805,'Huyện Gia Lộc',3435,0),
(3806,'Thị xã Kinh Môn',3435,0),
(3807,'Huyện Nam Sách',3435,0),
(3808,'Huyện Ninh Giang',3435,0),
(3809,'Huyện Thanh Hà',3435,0),
(3810,'Huyện Thanh Miện',3435,0),
(3811,'Huyện Tứ Kỳ',3435,0),
(3812,'Thành phố Hải Dương',3435,0),
(3813,'Thành phố Chí Linh',3435,0),
(3814,'Huyện Châu Thành',3437,0),
(3815,'Huyện Châu Thành A',3437,0),
(3816,'Huyện Long Mỹ',3437,0),
(3817,'Huyện Phụng Hiệp',3437,0),
(3818,'Huyện Vị Thuỷ',3437,0),
(3819,'Thành Phố Vị Thanh',3437,0),
(3820,'Thành phố Ngã Bảy',3437,0),
(3821,'Huyện Cao Phong',3438,1),
(3822,'Huyện Đà Bắc',3438,1),
(3823,'Huyện Kim Bôi',3438,1),
(3825,'Huyện Lạc Sơn',3438,1),
(3826,'Huyện Lạc Thủy',3438,1),
(3827,'Huyện Lương Sơn',3438,1),
(3828,'Huyện Mai Châu',3438,1),
(3829,'Huyện Tân Lạc',3438,1),
(3830,'Huyện Yên Thủy',3438,1),
(3831,'Thành phố Hòa Bình',3438,1),
(3832,'Huyện Ân Thi',3440,0),
(3833,'Huyện Khoái Châu',3440,0),
(3834,'Huyện Kim Động',3440,0),
(3835,'Thị xã Mỹ Hào',3440,0),
(3836,'Huyện Phù Cừ',3440,0),
(3837,'Huyện Tiên Lữ',3440,0),
(3838,'Huyện Văn Giang',3440,0),
(3839,'Huyện Văn Lâm',3440,0),
(3840,'Huyện Yên Mỹ',3440,0),
(3841,'Thành phố Hưng Yên',3440,0),
(3842,'Huyện Cam Lâm',3441,0),
(3843,'Huyện Diên Khánh',3441,0),
(3844,'Huyện Khánh Sơn',3441,0),
(3845,'Huyện Khánh Vĩnh',3441,0),
(3846,'Huyện Trường Sa',3441,0),
(3847,'Huyện Vạn Ninh',3441,0),
(3848,'Thành phố Nha Trang',3441,0),
(3850,'Huyện An Biên',3442,0),
(3851,'Huyện An Minh',3442,0),
(3852,'Huyện Châu Thành',3442,0),
(3853,'Huyện Giang Thành',3442,0),
(3854,'Huyện Giồng Riềng',3442,0),
(3855,'Huyện Gò Quao',3442,0),
(3856,'Huyện Hòn Đất',3442,0),
(3857,'Huyện Kiên Hải',3442,0),
(3858,'Huyện Kiên Lương',3442,0),
(3859,'Huyện Phú Quốc',3442,0),
(3860,'Huyện Tân Hiệp',3442,0),
(3861,'Huyện U Minh Thượng',3442,0),
(3862,'Huyện Vĩnh Thuận',3442,0),
(3863,'Thành phố Rạch Giá',3442,0),
(3864,'Thành phố Hà Tiên',3442,0),
(3865,'Huyện Đắk Glei',3443,0),
(3866,'Huyện Đắk Hà',3443,0),
(3867,'Huyện Đắk Tô',3443,0),
(3868,'Huyện Kon Plông',3443,0),
(3869,'Huyện Kon Rẫy',3443,0),
(3870,'Huyện Ngọc Hồi',3443,0),
(3871,'Huyện Sa Thầy',3443,0),
(3872,'Huyện Tu Mơ Rông',3443,0),
(3873,'Thành phố Kon Tum',3443,0),
(3874,'Huyện Mường Tè',3444,0),
(3875,'Huyện Phong Thổ',3444,0),
(3876,'Huyện Sìn Hồ',3444,0),
(3877,'Huyện Tam Đường',3444,0),
(3878,'Huyện Tân Uyên',3444,0),
(3879,'Huyện Than uyên',3444,0),
(3880,'Thành phố Lai Châu',3444,0),
(3881,'Huyện Bảo Lâm',3445,0),
(3882,'Huyện Cát Tiên',3445,0),
(3883,'Huyện Đạ Huoai',3445,0),
(3884,'Huyện Đạ Tẻh',3445,0),
(3885,'Huyện Đam Rông',3445,0),
(3886,'Huyện Đơn Dương',3445,0),
(3887,'Huyện Đức Trọng',3445,0),
(3888,'Huyện Lạc Dương',3445,0),
(3889,'Huyện Lâm Hà',3445,0),
(3890,'Thành phố Bảo Lộc',3445,0),
(3891,'Thành phố Đà Lạt',3445,0),
(3892,'Huyện Bắc Sơn',3446,0),
(3893,'Huyện Bình Gia',3446,0),
(3894,'Huyện Cao Lộc',3446,0),
(3895,'Huyện Chi Lăng',3446,0),
(3896,'Huyện Đình Lập',3446,0),
(3897,'Huyện Hữu Lũng',3446,0),
(3898,'Huyện Lộc Bình',3446,0),
(3899,'Huyện Tràng Định',3446,0),
(3900,'Huyện Văn Lãng',3446,0),
(3901,'Huyện Văn Quan',3446,0),
(3902,'Thành phố Lạng Sơn',3446,0),
(3903,'Huyện Bắc Hà',3447,0),
(3904,'Huyện Bảo Thắng',3447,0),
(3905,'Huyện Bảo Yên',3447,0),
(3906,'Huyện Bát Xát',3447,0),
(3907,'Huyện Mường Khương',3447,0),
(3908,'Thị xã Sa Pa',3447,0),
(3909,'Huyện Si Ma Cai',3447,0),
(3910,'Huyện Văn Bàn',3447,0),
(3911,'Thành phố Lào Cai',3447,0),
(3912,'Huyện Bến Lức',3448,0),
(3913,'Huyện Cần Đước',3448,0),
(3914,'Huyện Cần Giuộc',3448,0),
(3915,'Huyện Châu Thành',3448,0),
(3916,'Huyện Đức Hòa',3448,0),
(3917,'Huyện Đức Huệ',3448,0),
(3918,'Huyện Mộc Hóa',3448,0),
(3919,'Huyện Tân Hưng',3448,0),
(3920,'Huyện Tân Thạnh',3448,0),
(3921,'Huyện Tân Trụ',3448,0),
(3922,'Huyện Thạnh Hóa',3448,0),
(3923,'Huyện Thủ Thừa',3448,0),
(3924,'Huyện Vĩnh Hưng',3448,0),
(3925,'Thành phố Tân An',3448,0),
(3926,'Huyện Giao Thủy',3449,0),
(3927,'Huyện Hải Hậu',3449,0),
(3928,'Huyện Mỹ Lộc',3449,0),
(3929,'Huyện Nam Trực',3449,0),
(3930,'Huyện Nghĩa Hưng',3449,0),
(3931,'Huyện Trực Ninh',3449,0),
(3932,'Huyện Vụ Bản',3449,0),
(3933,'Huyện Xuân Trường',3449,0),
(3934,'Huyện ý Yên',3449,0),
(3935,'Thành phố Nam Định',3449,0),
(3936,'Huyện Anh Sơn',3450,0),
(3937,'Huyện Con Cuông',3450,0),
(3938,'Huyện Diễn Châu',3450,0),
(3939,'Huyện Đô Lương',3450,0),
(3940,'Huyện Hưng Nguyên',3450,0),
(3941,'Huyện Kỳ Sơn',3450,0),
(3942,'Huyện Nam Đàn',3450,0),
(3943,'Huyện Nghi Lộc',3450,0),
(3944,'Huyện Nghĩa Đàn',3450,0),
(3945,'Huyện Quế Phong',3450,0),
(3946,'Huyện Quỳ Châu',3450,0),
(3947,'Huyện Quỳ Hợp',3450,0),
(3948,'Huyện Quỳnh Lưu',3450,0),
(3949,'Huyện Tân Kỳ',3450,0),
(3950,'Huyện Thanh Chương',3450,0),
(3951,'Huyện Tương Dương',3450,0),
(3952,'Huyện Yên Thành',3450,0),
(3953,'Thành phố Vinh',3450,0),
(3954,'Thị Xã Cửa Lò',3450,0),
(3955,'Thị Xã Thái Hòa',3450,0),
(3956,'Huyện Gia Viễn',3451,0),
(3957,'Huyện Hoa Lư',3451,0),
(3958,'Huyện Kim Sơn',3451,0),
(3959,'Huyện Nho Quan',3451,0),
(3960,'Huyện Yên Khánh',3451,0),
(3961,'Huyện Yên Mô',3451,0),
(3962,'Thành phố Ninh Bình',3451,0),
(3963,'Thành phố Tam Điệp',3451,0),
(3964,'Huyện Bác Ái',3452,0),
(3965,'Huyện Ninh Hải',3452,0),
(3966,'Huyện Ninh Phước',3452,0),
(3967,'Huyện Ninh Sơn',3452,0),
(3968,'Huyện Thuận Bắc',3452,0),
(3969,'Huyện Thuận Nam',3452,0),
(3970,'Thành phố Phan Rang-Tháp Chàm',3452,0),
(3971,'Huyện Cẩm Khê',3453,0),
(3972,'Huyện Đoan Hùng',3453,0),
(3973,'Huyện Hạ Hòa',3453,0),
(3974,'Huyện Lâm Thao',3453,0),
(3975,'Huyện Phù Ninh',3453,0),
(3976,'Huyện Tam Nông',3453,0),
(3977,'Huyện Tân Sơn',3453,0),
(3978,'Huyện Thanh Ba',3453,0),
(3979,'Huyện Thanh Sơn',3453,0),
(3980,'Huyện Thanh Thuỷ',3453,0),
(3981,'Huyện Yên Lập',3453,0),
(3982,'Thành phố Việt Trì',3453,0),
(3983,'Thị Xã Phú Thọ',3453,0),
(3984,'Thị xã Đông Hòa',3454,0),
(3985,'Huyện Đồng Xuân',3454,0),
(3986,'Huyện Phú Hòa',3454,0),
(3987,'Huyện Sơn Hòa',3454,0),
(3988,'Huyện Sông Hinh',3454,0),
(3989,'Huyện Tây Hòa',3454,0),
(3990,'Huyện Tuy An',3454,0),
(3991,'Thành phố Tuy Hòa',3454,0),
(3992,'Thị Xã Sông Cầu',3454,0),
(3993,'Huyện Bố Trạch',3455,0),
(3994,'Huyện Lệ Thủy',3455,0),
(3995,'Huyện Minh Hóa',3455,0),
(3996,'Huyện Quảng Ninh',3455,0),
(3997,'Huyện Quảng Trạch',3455,0),
(3998,'Huyện Tuyên Hóa',3455,0),
(3999,'Thành phố Đồng Hới',3455,0),
(4000,'Huyện Bắc Trà My',3456,0),
(4001,'Huyện Đại Lộc',3456,0),
(4002,'Thị xã Điện Bàn',3456,0),
(4003,'Huyện Đông Giang',3456,0),
(4004,'Huyện Duy Xuyên',3456,0),
(4005,'Huyện Hiệp Đức',3456,0),
(4006,'Huyện Nam Giang',3456,0),
(4007,'Huyện Nam Trà My',3456,0),
(4008,'Huyện Nông Sơn',3456,0),
(4009,'Huyện Núi Thành',3456,0),
(4010,'Huyện Phú Ninh',3456,0),
(4011,'Huyện Phước Sơn',3456,0),
(4012,'Huyện Quế Sơn',3456,0),
(4013,'Huyện Tây Giang',3456,0),
(4014,'Huyện Thăng Bình',3456,0),
(4015,'Huyện Tiên Phước',3456,0),
(4016,'Thành phố Hội An',3456,0),
(4017,'Thành phố Tam Kỳ',3456,0),
(4018,'Huyện Ba Tơ',3457,0),
(4019,'Huyện Bình Sơn',3457,0),
(4020,'Thị xã Đức Phổ',3457,0),
(4021,'Huyện Lý sơn',3457,0),
(4022,'Huyện Minh Long',3457,0),
(4023,'Huyện Mộ Đức',3457,0),
(4024,'Huyện Nghĩa Hành',3457,0),
(4025,'Huyện Sơn Hà',3457,0),
(4026,'Huyện Sơn Tây',3457,0),
(4027,'Huyện Sơn Tịnh',3457,0),
(4028,'Huyện Tây Trà',3457,0),
(4029,'Huyện Trà Bồng',3457,0),
(4030,'Huyện Tư Nghĩa',3457,0),
(4031,'Thành phố Quảng Ngãi',3457,0),
(4032,'Huyện Cam Lộ',3459,0),
(4033,'Huyện Cồn Cỏ',3459,0),
(4034,'Huyện Đa Krông',3459,0),
(4035,'Huyện Gio Linh',3459,0),
(4036,'Huyện Hải Lăng',3459,0),
(4037,'Huyện Hướng Hóa',3459,0),
(4038,'Huyện Triệu Phong',3459,0),
(4039,'Huyện Vĩnh Linh',3459,0),
(4040,'Thành phố Đông Hà',3459,0),
(4041,'Thị Xã Quảng Trị',3459,0),
(4042,'Huyện Châu Thành',3460,0),
(4043,'Huyện Cù Lao Dung',3460,0),
(4044,'Huyện Kế Sách',3460,0),
(4045,'Huyện Long Phú',3460,0),
(4046,'Huyện Mỹ Tú',3460,0),
(4047,'Huyện Mỹ Xuyên',3460,0),
(4048,'Thị Xã Ngã Năm',3460,0),
(4049,'Huyện Thạnh Trị',3460,0),
(4050,'Huyện Trần Đề',3460,0),
(4051,'Thị Xã Vĩnh Châu',3460,0),
(4052,'Thành phố Sóc Trăng',3460,0),
(4053,'Huyện Bắc Yên',3461,0),
(4054,'Huyện Mai Sơn',3461,0),
(4055,'Huyện Mộc Châu',3461,0),
(4056,'Huyện Mường La',3461,0),
(4057,'Huyện Phù Yên',3461,0),
(4058,'Huyện Quỳnh Nhai',3461,0),
(4059,'Huyện Sông Mã',3461,0),
(4060,'Huyện Sốp Cộp',3461,0),
(4061,'Huyện Thuận Châu',3461,0),
(4062,'Huyện Yên Châu',3461,0),
(4063,'Thành phố Sơn La',3461,0),
(4064,'Huyện Bến Cầu',3462,0),
(4065,'Huyện Châu Thành',3462,0),
(4066,'Huyện Dương Minh Châu',3462,0),
(4067,'Huyện Gò Dầu',3462,0),
(4068,'Thị xã Hòa Thành',3462,0),
(4069,'Huyện Tân Biên',3462,0),
(4070,'Huyện Tân Châu',3462,0),
(4071,'Thị xã Trảng Bàng',3462,0),
(4072,'Thành phố Tây Ninh',3462,0),
(4073,'Huyện Đông Hưng',3463,0),
(4074,'Huyện Hưng Hà',3463,0),
(4075,'Huyện Kiến Xương',3463,0),
(4076,'Huyện Quỳnh Phụ',3463,0),
(4077,'Huyện Thái Thụy',3463,0),
(4078,'Huyện Tiền Hải',3463,0),
(4079,'Huyện Vũ Thư',3463,0),
(4080,'Thành phố Thái Bình',3463,0),
(4081,'Huyện Đại Từ',3464,0),
(4082,'Huyện Định Hóa',3464,0),
(4083,'Huyện Đồng Hỷ',3464,0),
(4084,'Thị xã Phổ Yên',3464,0),
(4085,'Huyện Phú Bình',3464,0),
(4086,'Huyện Phú Lương',3464,0),
(4087,'Huyện Võ Nhai',3464,0),
(4088,'Thành phố Thái Nguyên',3464,0),
(4089,'Thành phố Sông Công',3464,0),
(4090,'Huyện Bá Thước',3465,0),
(4091,'Huyện Cẩm Thủy',3465,0),
(4092,'Huyện Đông Sơn',3465,0),
(4093,'Huyện Hà Trung',3465,0),
(4094,'Huyện Hậu Lộc',3465,0),
(4095,'Huyện Hoằng Hóa',3465,0),
(4096,'Huyện Lang Chánh',3465,0),
(4097,'Huyện Mường Lát',3465,0),
(4098,'Huyện Nga Sơn',3465,0),
(4099,'Huyện Ngọc Lặc',3465,0),
(4100,'Huyện Như Thanh',3465,0),
(4101,'Huyện Như Xuân',3465,0),
(4102,'Huyện Nông Cống',3465,0),
(4103,'Huyện Quan Sơn',3465,0),
(4104,'Huyện Quảng Xương',3465,0),
(4105,'Huyện Thạch Thành',3465,0),
(4106,'Huyện Thiệu Hóa',3465,0),
(4107,'Huyện Thọ Xuân',3465,0),
(4108,'Huyện Thường Xuân',3465,0),
(4109,'Thị xã Nghi Sơn',3465,0),
(4110,'Huyện Triệu Sơn',3465,0),
(4111,'Huyện Vĩnh Lộc',3465,0),
(4112,'Thành phố Thanh Hóa',3465,0),
(4113,'Thị Xã Bỉm Sơn',3465,0),
(4114,'Thành phố Sầm Sơn',3465,0),
(4115,'Huyện Cái Bè',3467,0),
(4116,'Huyện Cai Lậy',3467,0),
(4117,'Huyện Châu Thành',3467,0),
(4118,'Huyện Chợ Gạo',3467,0),
(4119,'Huyện Gò Công Đông',3467,0),
(4120,'Huyện Gò Công Tây',3467,0),
(4121,'Huyện Tân Phú Đông',3467,0),
(4122,'Huyện Tân Phước',3467,0),
(4123,'Thành phố Mỹ Tho',3467,0),
(4124,'Thị Xã Gò Công',3467,0),
(4125,'Huyện Càng Long',3468,0),
(4126,'Huyện Cầu Kè',3468,0),
(4127,'Huyện Cầu Ngang',3468,0),
(4128,'Huyện Châu Thành',3468,0),
(4129,'Huyện Duyên Hải',3468,0),
(4130,'Huyện Tiểu Cần',3468,0),
(4131,'Huyện Trà Cú',3468,0),
(4132,'Thành phố Trà Vinh',3468,0),
(4133,'Huyện Chiêm Hóa',3469,0),
(4134,'Huyện Hàm Yên',3469,0),
(4135,'Huyện Na Hang',3469,0),
(4136,'Huyện Sơn Dương',3469,0),
(4137,'Huyện Yên Sơn',3469,0),
(4138,'Thành phố Tuyên Quang',3469,0),
(4139,'Thị xã Bình Minh',3470,0),
(4140,'Huyện Bình Tân',3470,0),
(4141,'Huyện Long Hồ',3470,0),
(4142,'Huyện Mang Thít',3470,0),
(4143,'Huyện Tam Bình',3470,0),
(4144,'Huyện Trà Ôn',3470,0),
(4145,'Huyện Vũng Liêm',3470,0),
(4146,'Thành phố Vĩnh Long',3470,0),
(4147,'Huyện Bình Xuyên',3471,0),
(4148,'Huyện Lập Thạch',3471,0),
(4149,'Huyện Sông Lô',3471,0),
(4150,'Huyện Tam Đảo',3471,0),
(4151,'Huyện Tam Dương',3471,0),
(4152,'Huyện Vĩnh Tường',3471,0),
(4153,'Huyện Yên Lạc',3471,0),
(4154,'Thành phố Vĩnh Yên',3471,0),
(4155,'Thành phố Phúc Yên',3471,0),
(4156,'Huyện Lục Yên',3472,0),
(4157,'Huyện Mù Căng Chải',3472,0),
(4158,'Huyện Trạm Tấu',3472,0),
(4159,'Huyện Trấn Yên',3472,0),
(4160,'Huyện Văn Chấn',3472,0),
(4161,'Huyện Văn Yên',3472,0),
(4162,'Huyện Yên Bình',3472,0),
(4163,'Thành phố Yên Bái',3472,0),
(4164,'Thị Xã Nghĩa Lộ',3472,0),
(4166,'Huyện Thạch Thất',4190,0),
(4167,'Thị xã Quảng Yên',3458,0),
(4168,'Hòa Bình',0,0),
(4170,'Thành phố Hòa Bình',4168,0),
(4171,'Huyện Lương Sơn',4168,0),
(4172,'Huyện Cao Phong',4168,0),
(4173,'Huyện Đà Bắc',4168,0),
(4174,'Huyện Kim Bôi',4168,0),
(4175,'Huyện Kỳ Sơn',4168,1),
(4176,'Huyện Lạc Sơn',4168,0),
(4177,'Huyện Lạc Thủy',4168,0),
(4178,'Huyện Mai Châu',4168,0),
(4179,'Huyện Tân Lạc',4168,0),
(4180,'Huyện Yên Thủy',4168,0),
(4181,'Huyện Quan Hóa',3465,0),
(4182,'Huyện Yên Định',3465,0),
(4183,'Huyện Di Linh',3445,0),
(4184,'Huyện Kim Thành',3435,0),
(4185,'Huyện Vị Xuyên',3431,0),
(4186,'Hồ Chí Minh 1',0,0),
(4187,'Hồ Chí Minh 3',0,0),
(4188,'Hồ Chí Minh 4',0,0),
(4189,'Hà Nội 2',0,0),
(4190,'Hà Nội 3',0,0),
(4191,'Hà Nội 4',0,0),
(4192,'Hồ Chí Minh 5',0,0),
(4193,'Thị Xã Tắc Vân',3421,1),
(4194,'Huyện Tiên Yên',3458,0),
(4195,'Huyện Bàu Bàng',3417,0),
(4196,'Thị Xã Kiến Tường',3448,0),
(4197,'Quận Bình Thủy',3423,0),
(4198,'Huyện Lâm Bình',3469,0),
(4199,'Thành Phố Cam Ranh',3441,0),
(4200,'Thị xã Ninh Hòa',3441,0),
(4202,'Huyện Nghi Sơn',3465,1),
(4203,'Thị Xã Hoàng Mai',3450,0),
(4204,'Thị Xã Ba Đồn',3455,0),
(4205,'Huyện Nậm Nhùn',3444,0),
(4206,'Quận Bắc Từ Liêm',3433,0),
(4207,'Huyện Vân Hồ',3461,0),
(4208,'Huyện Phú Riềng',3419,0),
(4209,'Huyện Nậm Pồ',3427,0),
(4210,'Đồng Nai 1',0,0),
(4211,'Đồng Nai 2',0,0),
(4212,'Bình Dương 1',0,1),
(4213,'Bình Dương 2',0,1),
(4214,'Gia Lai 2',0,1),
(4215,'Nghệ An 1',0,1),
(4216,'Nghệ An 2',0,1),
(4217,'Thị xã Long Mỹ',3437,0),
(4218,'Thị xã Duyên Hải',3468,0),
(4219,'Thị Xã Cai Lậy',3467,0),
(4220,'Huyện Bắc Tân Uyên',3417,0),
(4221,'Thị xã Kỳ Anh',3434,0),
(4223,'Huyện Ia H\' Drai',3443,0),
(4241,'Quận Ba Đình',4189,0),
(4243,'Quận Đống Đa',4189,0),
(4244,'Quận Hai Bà Trưng',4189,0),
(4245,'Quận Hoàn Kiếm',4189,0),
(4246,'Quận Hoàng Mai',4189,0),
(4248,'Hồ Chí Minh',0,0),
(4249,'Quận 3',4248,0),
(4250,NULL,NULL,0);

/*Table structure for table `reset_password` */

DROP TABLE IF EXISTS `reset_password`;

CREATE TABLE `reset_password` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `email` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `token` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=43 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `reset_password` */

insert  into `reset_password`(`id`,`email`,`token`,`created_at`) values 
(34,'anhtamit2019@gmail.com','A6IHVyPTcNP7yTZtnZCzDefeDjPEyQHGOYDesuu26cTL7Drvex2iBqzlKALl','2021-04-03 19:01:39'),
(35,'anhtamit2019@gmail.com','TsQiwcSvZbTX6B525nbS6NgYqx9Q2a79okYTudzXwJRVGUn1Ww0XAC4ifk9q','2021-04-03 19:51:56'),
(36,'anhtamit2019@gmail.com','4VFWdiZY7hmj66h1LhHy0VDatnlOY93luxmUkJF8TM0KqMl1FAIOgNedkR2v','2021-04-05 17:09:29'),
(37,'anhtamit2019@gmail.com','dxi3SELBfE63A2bQDG7ujhtj2dQdFrGdqs5jlxMJ4kbvgt9ccrFcugI9fyaO','2021-04-05 17:10:58'),
(38,'anhtamit2019@gmail.com','7tYlLNdzfhyZFjqkJ4yyKTC3yGU3LulS1h31Dz9eWTqDUYGJJCPt1kOqlOoH','2021-04-05 17:11:15'),
(39,'anhtamit2019@gmail.com','s5zuJkjm9rDvLNxAhI7BKiVQwyxAZYFSFHd2uLWqY7wv7AQ6h7CWjRse7tcT','2021-04-05 17:12:57'),
(40,'anhtamit2019@gmail.com','lBXYz1mF4SmKKfTh7X006ncLE8XW2O4KIb5k4700RmxvDqo5DlRLu0KNABgp','2021-04-05 17:14:30'),
(41,'anhtamit2019@gmail.com','2g3bYq7TkEAeUHcru18746KTYCdOsRWujTbWzMCycJpSHsasMBdt4wYNrFxn','2021-04-05 17:15:17'),
(42,'anhtamit2019@gmail.com','KSCd7LkY9LwIRJSLJBepEMpEZPfDKM8wNeYOC3VsmY6IIcpGa18OvW1XEQ1c','2021-04-05 17:16:34');

/*Table structure for table `salary` */

DROP TABLE IF EXISTS `salary`;

CREATE TABLE `salary` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `from_date` date DEFAULT NULL,
  `to_date` date DEFAULT NULL,
  `standard_days` int(11) NOT NULL DEFAULT 0,
  `status` varchar(50) COLLATE utf8_unicode_ci DEFAULT 'pending',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `salary` */

/*Table structure for table `salary_detail` */

DROP TABLE IF EXISTS `salary_detail`;

CREATE TABLE `salary_detail` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `salary_id` int(11) NOT NULL,
  `details` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL,
  `staff_id` int(11) NOT NULL COMMENT 'FK table staff',
  `salary` double NOT NULL,
  `base_salary_contract` double NOT NULL DEFAULT 0,
  `total_day_work` float NOT NULL DEFAULT 0,
  `total_special_day` float NOT NULL DEFAULT 0,
  `salary_ot` double NOT NULL DEFAULT 0,
  `total_allowance` double NOT NULL DEFAULT 0,
  `allowance_details` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `total_insurance` double NOT NULL DEFAULT 0,
  `insurance_details` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `total_tax` double NOT NULL DEFAULT 0,
  `tax_details` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL,
  `income_tax` double NOT NULL DEFAULT 0 COMMENT 'Thu nhập chịu thuế',
  `taxable_income` double NOT NULL DEFAULT 0 COMMENT 'Thu nhập tính thuế',
  `personal_tax` double NOT NULL DEFAULT 0 COMMENT 'Thuế TNCC',
  `salary_actually_received` double NOT NULL DEFAULT 0 COMMENT 'Lương thực nhận',
  `kpi_reward` double DEFAULT 0,
  `other_reward` double DEFAULT 0,
  `create_at` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=65 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `salary_detail` */

/*Table structure for table `salary_options` */

DROP TABLE IF EXISTS `salary_options`;

CREATE TABLE `salary_options` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type` varchar(50) NOT NULL,
  `have_tax` tinyint(4) NOT NULL DEFAULT 0,
  `key` varchar(225) NOT NULL,
  `name` varchar(225) NOT NULL,
  `unit` varchar(20) NOT NULL,
  `value` double NOT NULL DEFAULT 0,
  `min_tax` double NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8;

/*Data for the table `salary_options` */

insert  into `salary_options`(`id`,`type`,`have_tax`,`key`,`name`,`unit`,`value`,`min_tax`) values 
(1,'ALLOWANCE',0,'EAT','Tiền cơm','NUMBER',660000,730000),
(2,'ALLOWANCE',0,'PHONE','Điện thoại','NUMBER',0,0),
(3,'ALLOWANCE',1,'OIL','Xăng','NUMBER',0,0),
(4,'INSURANCE',0,'BHXH','Bảo hiểm xã hội','PERCENT',0.08,0),
(5,'INSURANCE',0,'BHYT','Bảo hiểm y tế','PERCENT',0.015,0),
(6,'INSURANCE',0,'BHTN','Bảo hiểm thất nghiệp','PERCENT',0.01,0),
(7,'INSURANCE',0,'UNION','Kinh phí công đoàn','PERCENT',0.01,0),
(8,'DEDUCTION',0,'SALARY_ADVANCE','Tạm ứng lương','NUMBER',0,0),
(9,'TAX',0,'TAX_YOURSELF','Giảm trừ gia cảnh bản thân','NUMBER',11000000,0),
(10,'TAX',0,'TAX_FAMILY','Giảm trừ người phụ thuộc','NUMBER',0,0);

/*Table structure for table `special_date` */

DROP TABLE IF EXISTS `special_date`;

CREATE TABLE `special_date` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `day_special_from` date NOT NULL,
  `day_special_to` date NOT NULL,
  `note` varchar(500) COLLATE utf8_unicode_ci NOT NULL,
  `type_day` int(1) NOT NULL DEFAULT 1 COMMENT '1 lễ, 2 tăng ca',
  `staff_request` int(11) DEFAULT NULL,
  `department_request` int(11) DEFAULT NULL,
  `is_approved` int(1) DEFAULT NULL,
  `staff_ot` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=51 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `special_date` */

insert  into `special_date`(`id`,`day_special_from`,`day_special_to`,`note`,`type_day`,`staff_request`,`department_request`,`is_approved`,`staff_ot`) values 
(1,'2021-02-10','2021-02-12','Tết âm lịch',1,NULL,NULL,NULL,NULL),
(2,'2021-02-15','2021-02-16','Tết âm lịch',1,NULL,NULL,NULL,NULL),
(14,'2021-03-12','2021-03-13','Tăng ca vì nhiều nhân viên mới',2,5,2,1,'4'),
(25,'2021-04-30','2021-04-30','Quốc tế lao động',1,NULL,NULL,NULL,NULL),
(26,'2021-05-03','2021-05-03','Nghỉ bù quốc tế lao động 1/5',1,NULL,NULL,NULL,NULL),
(27,'2021-09-02','2021-09-02','Quốc khánh',1,NULL,NULL,NULL,NULL),
(28,'2021-03-22','2021-03-23','Tăng ca nâng cấp hệ thống mạng',2,2,1,-1,'2,3'),
(29,'2021-03-24','2021-03-25','Tăng ca nâng cấp database',2,2,1,1,'2,3'),
(39,'2021-03-23','2021-03-23','Tăng ca vì trainning nhân viên mới',2,5,2,0,'4'),
(40,'2021-03-08','2021-03-08','Tâm tăng ca  vào ngày lễ vì quá đông nhân viên mới',2,5,2,1,'4'),
(43,'2021-03-31','2021-03-31','Tăng ca nâng hệ thống',2,2,1,0,'1,2,3,6'),
(44,'2021-04-29','2021-04-30','Tăng ca nâng hệ thống',2,2,1,1,'1,2,35'),
(46,'2021-02-28','2021-02-28','Tăng ca vì nhiều nhân viên mới',2,5,2,1,'4,5,35'),
(47,'2021-02-10','2021-02-10','Tăng ca nhận nhân viên trước khi về quê',2,5,2,1,'5,35'),
(48,'2021-04-21','2021-04-21','Giỗ tổ Hùng Vương',1,NULL,NULL,NULL,NULL),
(49,'2021-04-21','2021-04-21','Tăng ca để xử lý công phép',2,5,2,1,'5,35'),
(50,'2021-04-16','2021-04-16','Tăng ca để nâng cấp hệ thống mạng',2,2,1,0,'1,2');

/*Table structure for table `staff` */

DROP TABLE IF EXISTS `staff`;

CREATE TABLE `staff` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `code` varchar(30) COLLATE utf8_unicode_ci DEFAULT NULL,
  `firstname` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `lastname` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `department` int(11) DEFAULT NULL COMMENT 'FK table department',
  `is_manager` tinyint(1) DEFAULT 0 COMMENT '1:leader;0:staff',
  `joined_at` date DEFAULT NULL,
  `off_date` date DEFAULT NULL,
  `dob` date DEFAULT NULL,
  `gender` tinyint(2) DEFAULT 1 COMMENT '1:male;0:female',
  `regional` int(11) DEFAULT NULL,
  `phone_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `email` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `password` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `id_number` varchar(15) COLLATE utf8_unicode_ci DEFAULT NULL,
  `identity_issue_date` date DEFAULT NULL,
  `photo` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `id_photo` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'hinh cmnd',
  `id_photo_back` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL COMMENT 'hinh cmnd',
  `day_of_leave` float DEFAULT 0,
  `note` varchar(1000) COLLATE utf8_unicode_ci DEFAULT NULL,
  `created_at` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated_at` datetime DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  `status` tinyint(2) DEFAULT 0 COMMENT '0:enable;1:disable',
  PRIMARY KEY (`id`),
  UNIQUE KEY `code` (`code`),
  KEY `FK4f3ncao836ghsi5yc5vhvs718` (`department`)
) ENGINE=InnoDB AUTO_INCREMENT=43 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `staff` */

insert  into `staff`(`id`,`code`,`firstname`,`lastname`,`department`,`is_manager`,`joined_at`,`off_date`,`dob`,`gender`,`regional`,`phone_number`,`email`,`password`,`id_number`,`identity_issue_date`,`photo`,`id_photo`,`id_photo_back`,`day_of_leave`,`note`,`created_at`,`created_by`,`updated_at`,`updated_by`,`status`) values 
(1,'MINHLT','Lương Trường','Minh',1,0,'2020-03-01',NULL,'1971-08-25',1,4163,'0963258147','minhlt@gmail.com','e10adc3949ba59abbe56e057f20f883e','02250022','2021-04-14','/images/user/avatar/29032021/5813e8aa-e144-413e-8553-6c0ebd1c59be.png','/images/user/cmnd/29032021/9b87cb99-f669-434e-a897-26608d9cecdf.png','/images/user/cmnd/29032021/8c8ba395-d14e-49de-84aa-20cbbff088d1.png',0,NULL,'2021-02-01 10:27:20',5,'2021-04-14 14:52:53',7,0),
(2,'DUNV','Nguyễn Văn','Du',1,1,'2020-08-01',NULL,'1996-03-26',1,4029,'0256348951','dumv@gmail.com','e10adc3949ba59abbe56e057f20f883e','1634071111','2000-01-12','/images/user/avatar/29032021/19d0d4b4-48f5-4c1b-8180-80813aa3447c.png','/images/user/cmnd/29032021/0cbaeb7a-b82b-4b60-a494-86410d79d462.png','/images/user/cmnd/29032021/ce412498-f72d-4447-a1d1-604f42c37a41.png',3,NULL,'2021-02-01 19:53:36',5,'2021-03-29 14:04:17',5,0),
(4,'BAYLV','Lê Văn','Bảy',2,0,'2020-10-01',NULL,'2000-01-12',1,3935,'0315874622','baylv@gmail.com','e10adc3949ba59abbe56e057f20f883e','162800753','2000-01-12','/images/user/avatar/27032021/b262d63a-9f5f-4c1c-8ecc-aec7eb819440.png','/images/user/cmnd/27032021/ad5ebf5c-b44d-4c9e-8794-6791500419d3.png','/images/user/cmnd/27032021/b824d5ea-08ae-4910-acfa-0f1268bb05e2.png',2,NULL,'2020-10-01 14:17:20',5,'2021-03-27 20:23:56',5,0),
(5,'NGOCNB','Nguyễn Bảo','Ngọc',2,1,'2019-01-01',NULL,'1983-09-07',2,3833,'0236589758','ngocnb@gmail.com','e10adc3949ba59abbe56e057f20f883e','145064321','2000-01-12','/images/user/avatar/29032021/9a5e887a-2482-4a80-8fdc-7a9fe2c85543.png','/images/user/cmnd/29032021/85027847-cd82-4989-89f1-46af6670e63c.png','/images/user/cmnd/29032021/bd40d043-0ad6-485d-ae10-cc360157249b.png',3,NULL,'2019-01-01 21:17:06',7,'2021-03-29 14:09:39',5,0),
(6,'MINHNQ','Nguyễn Quốc','Minh',4,1,'2020-10-01',NULL,'1987-09-06',1,3943,'0236585432','minhnq@gmail.com','e10adc3949ba59abbe56e057f20f883e','486375528','2021-04-14','/images/user/avatar/29032021/ee31ea39-8a0a-4a3e-b8c6-28e0f01cd5f7.png','/images/user/cmnd/29032021/f5b3d4c9-0f92-41f9-af4c-1faf66de80c6.png','/images/user/cmnd/29032021/40512ce0-872d-437a-89d4-5018cb4bad3d.png',0,NULL,'2020-10-01 14:17:25',5,'2021-04-14 14:48:49',7,0),
(7,'admin','Vũ Đức','Hiếu',5,1,'2019-10-01',NULL,'1987-05-19',1,3499,'03598525244','anhtamit2019@gmail.com','e10adc3949ba59abbe56e057f20f883e','112171936','2000-01-12','/images/user/avatar/29032021/7564f2c5-b4d2-4b7b-bc7d-dc1c37e89c9c.png','/images/user/cmnd/29032021/75f0c01f-2363-4396-bb7b-2e31da66a760.png','/images/user/cmnd/29032021/a6a5250c-cf77-49e2-ad85-2b51caffe0d1.png',3,NULL,'2019-10-01 14:20:48',5,'2021-03-29 14:05:10',5,0),
(8,'MINHB','Hoàng Bình','Minh',3,0,'2020-12-01',NULL,'1990-10-25',1,3564,'0935625288','minhhb@gmail.com','e10adc3949ba59abbe56e057f20f883e','272728640','2000-01-12','/images/user/avatar/29032021/80114478-2534-4b6f-8055-6c7cdfd6f72f.png','/images/user/cmnd/29032021/de94c841-429b-4575-8ca1-826a2472606c.png','/images/user/cmnd/29032021/c5e44416-9a33-44f6-b8f2-d18b5d3fb251.png',4,NULL,'2020-12-01 19:27:29',5,'2021-03-29 14:05:52',5,0),
(9,'DAIPV','Phạm Văn','Đại',3,1,'2020-09-01',NULL,'1985-02-13',1,4246,'0936582411','daipv@gmail.com','e10adc3949ba59abbe56e057f20f883e','480630497','2000-01-12','/images/user/avatar/29032021/9bef87b7-d179-46f2-91bf-03c1a773df9d.png','/images/user/cmnd/29032021/3545e4f3-ecbf-4d7f-8911-351029c2b478.png','/images/user/cmnd/29032021/ab20567c-c4f8-4e9a-8f5f-d26f93873020.png',1,NULL,'2020-09-01 18:56:32',5,'2021-03-29 14:06:14',5,0),
(10,'HONGPTM','Phạm Thị Hồng','Mỹ',4,0,'2020-11-01',NULL,'1989-02-12',2,3582,'0936582645','mypth@gmail.com','e10adc3949ba59abbe56e057f20f883e','215195543','2000-01-12','/images/user/avatar/29032021/038f89be-65c8-47c3-b446-3a10732b0301.png','/images/user/cmnd/29032021/ac573671-c82b-438b-93b8-caf9de70080c.png','/images/user/cmnd/29032021/8bf5a8de-a112-4770-91a9-99ed4c74367c.png',2,NULL,'2020-11-01 21:45:46',5,'2021-03-29 14:22:29',5,0),
(11,'DUNGNGC','Nguyễn Ngọc Châu','Dung',3,0,'2020-02-01',NULL,'1999-12-22',1,4120,'03925635844','dungnnc@gmail.com','e10adc3949ba59abbe56e057f20f883e','321602326','2021-04-14','/images/user/avatar/29032021/d0e86d83-341b-4bf0-be94-8b922441f7ad.png','/images/user/cmnd/29032021/e08668e7-d50b-4cb6-ae9c-377f295270c9.png','/images/user/cmnd/29032021/1d505f8a-9602-4f45-8f04-8f4da017db14.png',0,NULL,'2021-02-01 21:52:56',5,'2021-04-14 14:25:19',7,0),
(35,'THINHDNT','Dư Nguyễn Trường','Thịnh',2,0,'2020-05-29',NULL,'1994-01-01',1,3619,'0359855225','thinh@gmail.com','e10adc3949ba59abbe56e057f20f883e','0225002','2021-04-14','/images/user/avatar/29032021/f018532c-39f4-4090-ab05-c5b4dc7ffa6f.png','/images/user/cmnd/29032021/dbc12aa8-a1da-4078-92bf-6ae611cfa0c3.png','/images/user/cmnd/29032021/d21caba9-4650-4d6a-93ec-fa649df735f0.png',0,NULL,'2021-03-29 18:13:13',5,'2021-04-14 14:47:43',7,0),
(42,'TUANNA','Nguyễn Anh','Tuấn',3,0,'2020-05-29','2020-06-30','1992-02-02',1,3499,'0359855223','tuan@gmail.com','e10adc3949ba59abbe56e057f20f883e','02250022','2000-01-12','/images/user/avatar/29032021/f018532c-39f4-4090-ab05-c5b4dc7ffa6f.png','/images/user/cmnd/29032021/dbc12aa8-a1da-4078-92bf-6ae611cfa0c3.png','/images/user/cmnd/29032021/d21caba9-4650-4d6a-93ec-fa649df735f0.png',3,NULL,'2021-03-29 18:13:13',5,'2021-03-29 18:13:13',NULL,1);

/*Table structure for table `time_leave` */

DROP TABLE IF EXISTS `time_leave`;

CREATE TABLE `time_leave` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) NOT NULL COMMENT 'FK table staff',
  `staff_code` varchar(30) COLLATE utf8_unicode_ci NOT NULL,
  `day_time_leave` date NOT NULL,
  `time` time NOT NULL,
  `image` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `type` tinyint(1) NOT NULL DEFAULT 0 COMMENT '0: cong, 1: phep',
  `note` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_approved` int(1) NOT NULL DEFAULT 0,
  `day_approved` date DEFAULT NULL,
  `created_at` date DEFAULT NULL,
  `done` int(1) DEFAULT 0,
  PRIMARY KEY (`id`),
  UNIQUE KEY `unique_time_leave` (`day_time_leave`,`staff_id`)
) ENGINE=InnoDB AUTO_INCREMENT=123 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `time_leave` */

insert  into `time_leave`(`id`,`staff_id`,`staff_code`,`day_time_leave`,`time`,`image`,`type`,`note`,`is_approved`,`day_approved`,`created_at`,`done`) values 
(75,4,'zxcv','2021-03-17','08:00:00',NULL,1,'Đăng kí phép\r\n',1,'2021-03-15',NULL,0),
(76,4,'zxcv','2021-03-20','04:00:00','/images/time_leave/15032021/4cc4f140-f676-4af1-8f6f-314c5d012f96.jpg',0,'Em có việc đột xuất xin nghỉ một hôm',1,'2021-03-15','2021-03-15',0),
(85,4,'zxcv','2021-03-29','08:00:00','/images/time_leave/16032021/f681f277-356f-4492-917d-c63fe6a460a4.PNG',0,'Quên check out như trên hình',1,'2021-03-29','2021-03-29',0),
(86,2,'zxc','2021-03-11','08:00:00',NULL,1,'Bận việc gia đình',1,'2021-03-17',NULL,0),
(88,2,'zxc','2021-03-17','08:00:00','',0,'Quên check out',1,'2021-03-17','2021-03-17',0),
(89,2,'zxc','2021-03-20','08:00:00','',0,'Bổ sung công',2,NULL,'2021-03-17',0),
(90,5,'vvv','2021-03-31','08:00:00',NULL,1,'Cho con đi học',1,'2021-03-17',NULL,0),
(94,1,'20060097','2021-03-16','08:00:00','',0,'Quên check out',1,'2021-03-17','2021-03-17',0),
(97,1,'20060097','2021-03-29','08:00:00',NULL,1,'Bị ốm xin nghỉ',1,'2021-03-17',NULL,0),
(98,1,'20060097','2021-03-30','08:00:00',NULL,1,'Ốm chưa khỏi hẳn',1,'2021-04-02',NULL,0),
(100,4,'zxcv','2021-03-24','08:00:00','',0,'test',0,NULL,'2021-03-24',1),
(104,5,'vvv','2021-03-27','08:00:00','',0,'Bổ sung công vì đi tiếp khách, không chấm công được',2,NULL,'2021-03-27',0),
(106,4,'BAYLV','2021-04-01','08:00:00','/images/time_leave/01042021/cebb9bfe-d3c2-44aa-88c7-f1a1a4aebff1.PNG',0,'Quên check out',0,NULL,'2021-04-01',0),
(107,4,'BAYLV','2021-04-02','08:00:00',NULL,1,'Đi học',0,NULL,NULL,0),
(108,5,'NGOCNB','2021-04-02','08:00:00','',0,'Bổ sung công do quên check out',2,NULL,'2021-04-02',0),
(112,5,'NGOCNB','2021-04-01','08:00:00','',1,'Xin nghỉ có việc riêng',2,NULL,NULL,0),
(113,5,'NGOCNB','2021-02-18','08:00:00',NULL,1,'Em bận việc gia đình xin nghỉ 1 hôm',1,'2021-02-20','2021-02-18',0),
(114,5,'NGOCNB','2021-02-19','08:00:00','/images/time_leave/02042021/022f97eb-31d3-4e55-a0b3-6942b2706943.PNG',0,'Quên check out',1,'2021-02-20','2021-02-19',0),
(115,2,'DUNV','2021-02-17','08:00:00','/images/time_leave/02042021/dfbd373c-4184-4f0e-bcd5-31cd617d3724.PNG',0,'Quên check out',1,'2021-02-20','2021-02-17',0),
(121,5,'NGOCNB','2021-04-15','08:00:00','',1,'Xin nghỉ có việc riêng',1,NULL,NULL,0),
(122,5,'NGOCNB','2021-04-05','08:00:00','/images/time_leave/08042021/27e71124-b301-4095-b308-7e6a0d089726.PNG',0,'Em quên check out',1,'2021-04-08','2021-04-08',0);

/*Table structure for table `time_special` */

DROP TABLE IF EXISTS `time_special`;

CREATE TABLE `time_special` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) NOT NULL,
  `special_date_id` int(11) NOT NULL,
  `day_time_special` date NOT NULL,
  `number_time` float NOT NULL DEFAULT 0,
  `multiply` int(1) NOT NULL DEFAULT 1,
  `date_create` date NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=345 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `time_special` */

insert  into `time_special`(`id`,`staff_id`,`special_date_id`,`day_time_special`,`number_time`,`multiply`,`date_create`) values 
(291,1,1,'2021-02-10',1,1,'2021-02-20'),
(292,2,1,'2021-02-10',1,1,'2021-02-20'),
(293,4,1,'2021-02-10',1,1,'2021-02-20'),
(294,6,1,'2021-02-10',1,1,'2021-02-20'),
(295,7,1,'2021-02-10',1,1,'2021-02-20'),
(296,8,1,'2021-02-10',1,1,'2021-02-20'),
(297,9,1,'2021-02-10',1,1,'2021-02-20'),
(298,10,1,'2021-02-10',1,1,'2021-02-20'),
(299,11,1,'2021-02-10',1,1,'2021-02-20'),
(300,35,1,'2021-02-10',1,1,'2021-02-20'),
(301,1,1,'2021-02-11',1,1,'2021-02-20'),
(302,2,1,'2021-02-11',1,1,'2021-02-20'),
(303,4,1,'2021-02-11',1,1,'2021-02-20'),
(304,5,1,'2021-02-11',1,1,'2021-02-20'),
(305,6,1,'2021-02-11',1,1,'2021-02-20'),
(306,7,1,'2021-02-11',1,1,'2021-02-20'),
(307,8,1,'2021-02-11',1,1,'2021-02-20'),
(308,9,1,'2021-02-11',1,1,'2021-02-20'),
(309,10,1,'2021-02-11',1,1,'2021-02-20'),
(310,11,1,'2021-02-11',1,1,'2021-02-20'),
(311,35,1,'2021-02-11',1,1,'2021-02-20'),
(312,1,1,'2021-02-12',1,1,'2021-02-20'),
(313,2,1,'2021-02-12',1,1,'2021-02-20'),
(314,4,1,'2021-02-12',1,1,'2021-02-20'),
(315,5,1,'2021-02-12',1,1,'2021-02-20'),
(316,6,1,'2021-02-12',1,1,'2021-02-20'),
(317,7,1,'2021-02-12',1,1,'2021-02-20'),
(318,8,1,'2021-02-12',1,1,'2021-02-20'),
(319,9,1,'2021-02-12',1,1,'2021-02-20'),
(320,10,1,'2021-02-12',1,1,'2021-02-20'),
(321,11,1,'2021-02-12',1,1,'2021-02-20'),
(322,35,1,'2021-02-12',1,1,'2021-02-20'),
(323,1,2,'2021-02-15',1,1,'2021-02-20'),
(324,2,2,'2021-02-15',1,1,'2021-02-20'),
(325,4,2,'2021-02-15',1,1,'2021-02-20'),
(326,5,2,'2021-02-15',1,1,'2021-02-20'),
(327,6,2,'2021-02-15',1,1,'2021-02-20'),
(328,7,2,'2021-02-15',1,1,'2021-02-20'),
(329,8,2,'2021-02-15',1,1,'2021-02-20'),
(330,9,2,'2021-02-15',1,1,'2021-02-20'),
(331,10,2,'2021-02-15',1,1,'2021-02-20'),
(332,11,2,'2021-02-15',1,1,'2021-02-20'),
(333,35,2,'2021-02-15',1,1,'2021-02-20'),
(334,1,2,'2021-02-16',1,1,'2021-02-20'),
(335,2,2,'2021-02-16',1,1,'2021-02-20'),
(336,4,2,'2021-02-16',1,1,'2021-02-20'),
(337,5,2,'2021-02-16',1,1,'2021-02-20'),
(338,6,2,'2021-02-16',1,1,'2021-02-20'),
(339,7,2,'2021-02-16',1,1,'2021-02-20'),
(340,8,2,'2021-02-16',1,1,'2021-02-20'),
(341,9,2,'2021-02-16',1,1,'2021-02-20'),
(342,10,2,'2021-02-16',1,1,'2021-02-20'),
(343,11,2,'2021-02-16',1,1,'2021-02-20'),
(344,35,2,'2021-02-16',1,1,'2021-02-20');

/*Table structure for table `transfer` */

DROP TABLE IF EXISTS `transfer`;

CREATE TABLE `transfer` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `staff_id` int(11) DEFAULT NULL,
  `old_department` int(11) DEFAULT NULL,
  `new_department` int(11) DEFAULT NULL COMMENT 'FK table department',
  `old_manager_approved` tinyint(1) DEFAULT 0,
  `new_manager_approved` tinyint(1) DEFAULT NULL,
  `manager_approved` tinyint(1) DEFAULT NULL,
  `hr_approved` int(2) DEFAULT NULL,
  `new_salary` double DEFAULT NULL,
  `created_at` date DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `note` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `note_manager` text COLLATE utf8_unicode_ci DEFAULT NULL,
  `del` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=37 DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;

/*Data for the table `transfer` */

insert  into `transfer`(`id`,`staff_id`,`old_department`,`new_department`,`old_manager_approved`,`new_manager_approved`,`manager_approved`,`hr_approved`,`new_salary`,`created_at`,`created_by`,`note`,`note_manager`,`del`) values 
(31,11,3,1,1,1,1,0,10000000,'2021-04-02',5,'Đã xin giảm lương','Lương 10tr',0),
(35,11,4,3,1,1,1,0,10000000,'2021-04-04',11,'Xin chuyen lai','',0);

/* Procedure structure for procedure `DoneLeave` */

/*!50003 DROP PROCEDURE IF EXISTS  `DoneLeave` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `DoneLeave`(IN `from_date` DATE, IN `to_date` DATE)
BEGIN
  UPDATE staff AS s
  JOIN
    (SELECT s.id AS staff_id, SUM(IF(t.`time` = "04:00:00", 0.5, 1)) AS total_return
    FROM staff AS s
    JOIN time_leave AS t ON s.id = t.staff_id
    WHERE t.day_time_leave >= from_date AND t.day_time_leave <= to_date AND done = 0 AND is_approved <> 1 AND t.type = 1 AND t.`staff_id` = s.id
    GROUP BY s.id) AS sub ON s.id = sub.staff_id
  SET day_of_leave = day_of_leave + sub.total_return;

  UPDATE time_leave
  SET done = 1
  WHERE day_time_leave >= from_date and day_time_leave <= to_date and done = 0;
  
  UPDATE leave_other as l
  SET done = 1
  WHERE ((l.from_date >= from_date AND l.from_date <= to_date) or (l.to_date >= from_date AND l.to_date <= to_date)) AND done = 0;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetAdditionalTimekeepingFromTo` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetAdditionalTimekeepingFromTo` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAdditionalTimekeepingFromTo`(IN `from_date` DATE, IN `to_date` DATE)
BEGIN
SELECT 
  t.id, t.staff_id, t.staff_code, t.day_time_leave, t.time, 
  if(t.type = 1, 1, 0) as type, 
  t.note , t.is_approved, t.day_approved, IF(t.time = "04:00:00", 0.5, 1) AS number_time,
	CASE
		WHEN sd.id IS NOT NULL THEN '3'
		WHEN DAYOFWEEK(day_time_leave) = 7 OR DAYOFWEEK(day_time_leave) = 1 THEN '2'
    ELSE '1'
	END AS multiply,
	CASE
		WHEN t.type = 1 THEN 'Phép Năm Tính Lương'
		ELSE 'Bổ Sung Công'
	END AS type_note
FROM time_leave AS t
LEFT JOIN special_date AS sd ON t.day_time_leave >= sd.day_special_from AND t.day_time_leave <= sd.day_special_to And sd.type_day = 1
WHERE t.is_approved = 1 
AND day_approved >= from_date
AND day_approved <= to_date
ORDER BY day_approved ASC;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetAllDetailTimeLeave` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetAllDetailTimeLeave` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAllDetailTimeLeave`(IN `y_m` DATE)
BEGIN
(SELECT t.*, s.`firstname`, s.`lastname`, s.code, s.`is_manager`, d.id AS department_id, d.name, d.name_vn, sd.id AS special_date_id, DAYOFWEEK(day_time_leave) AS day_of_week, 
  CASE
    WHEN sd.id IS NOT NULL THEN '3'
    WHEN DAYOFWEEK(day_time_leave) = 7 OR DAYOFWEEK(day_time_leave) = 1 THEN '2'
    ELSE '1'
END AS multiply
FROM time_leave AS t
JOIN staff AS s ON t.`staff_id` = s.`id`
JOIN department AS d ON s.`department` = d.`id`
LEFT JOIN special_date AS sd ON t.day_time_leave >= sd.day_special_from AND t.day_time_leave <= sd.day_special_to AND sd.type_day = 1
WHERE DATE_FORMAT(t.`day_time_leave`, '%Y-%m') = DATE_FORMAT(y_m,'%Y-%m'))
UNION ALL
(SELECT 
    t.id,t.staff_id, s.code AS `staff_code`, CONCAT(t.from_date, ' đến ', t.to_date) AS day_time_leave, NULL AS `time`, t.image,
    t.`type_leave` AS `type`, t.`note`, t.`is_approved`, t.`day_approved`, t.created_at, t.done,
    s.`firstname`, s.`lastname`, s.code, s.is_manager,
    d.id AS department_id, d.name, d.name_vn,
    NULL AS special_date_id, NULL AS day_of_week,
    0 AS multiply
FROM leave_other AS t
LEFT JOIN staff AS s ON t.staff_id = s.id
LEFT JOIN department AS d ON s.department = d.id
WHERE DATE_FORMAT(y_m,'%Y-%m') BETWEEN DATE_FORMAT(from_date,'%Y-%m') AND DATE_FORMAT(to_date,'%Y-%m')
ORDER BY from_date, to_date ASC)
ORDER BY staff_id, day_time_leave;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetAllStaffTime` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetAllStaffTime` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAllStaffTime`(IN `y_m` DATE)
BEGIN
SELECT 
  tz.staff_id, tz.code, tz.full_name, tz.department_id, tz.department_name, tz.is_manager, tz.day_of_week, tz.check_in_day, tz.check_in_day_y_m_d, tz.check_in, tz.check_out,
  tz.check_in_rand, tz.check_out_rand, tz.in_late_diff, tz.out_soon_diff, tz.ot_time, tz.multiply, tz.special_date_id, tz.image_check_in, tz.image_check_out,
  CASE
    WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' then 1
    WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' then 0.5
    WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' THEN 1
    WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' THEN 0.5
    ELSE 0
  END AS 'number_time',
  case
	when DATE_FORMAT(tz.check_in_rand, '%H:%i:%s') > '17:00:00' then '00:00:00'
	else IF(DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') > '05:00:00', DATE_FORMAT(TIMEDIFF(TIMEDIFF(tz.check_out_rand, tz.check_in_rand), '01:00:00'),'%H:%i:%s'), DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s'))
  end AS 'time',
  IF(ot.id IS NOT NULL AND special_date_id IS NULL, if(ot_time > '04:00:00', '04:00:00', ot_time), NULL) AS 'ot',
  IF(tz.out_soon_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s'), NULL), tz.out_soon_diff) AS 'out_soon',
  CASE
    WHEN tz.check_in >= '17:00:00' THEN NULL
    ELSE IF(tz.in_late_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s'), NULL), tz.in_late_diff)
  END AS 'in_late'
FROM
(SELECT
  staff_id, `code`, full_name, department_id ,department_name, is_manager,
  DAYOFWEEK(check_in_day) AS day_of_week,
  DATE_FORMAT(check_in_day, '%d-%m-%Y') AS check_in_day, 
  check_in_day AS check_in_day_y_m_d,
  DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s') AS check_in,
  DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s') AS check_out,
  IF(MIN(IF(`type` = 0, check_in_at, NULL)) < DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), MIN(IF(`type` = 0, check_in_at, NULL))) AS check_in_rand,
  IF(MAX(IF(`type` = 1, check_in_at, NULL)) > DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), MAX(IF(`type` = 1, check_in_at, NULL))) AS check_out_rand,
  IF(TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00'), NULL) AS 'in_late_diff',
  IF(TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) >= '00:00:00', TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) , NULL) AS 'out_soon_diff',
  IF(TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00'), NULL) AS 'ot_time',
  CASE
    WHEN sd.id IS NOT NULL THEN '3'
    WHEN DAYOFWEEK(check_in_day) = 7 OR DAYOFWEEK(check_in_day) = 1 THEN '2'
    ELSE '1'
  END AS multiply,
  sd.id AS special_date_id,
  MAX(IF(`type` = 0, image, NULL)) AS image_check_in,
  MAX(IF(`type` = 1, image, NULL)) AS image_check_out
FROM
  (SELECT s.id AS staff_id, s.`code`, CONCAT(s.`firstname`, ' ', s.`lastname`) AS full_name, s.is_manager, d.id AS department_id, d.`name_vn` AS department_name ,c.`check_in_day`, c.`check_in_at`, c.`type`,c.image
    FROM `check_in_out` c
    JOIN staff AS s ON c.`staff_id` = s.`id`
    JOIN department AS d ON s.`department` = d.`id`
    WHERE DATE_FORMAT(c.`check_in_day`, '%Y-%m') = DATE_FORMAT(y_m, '%Y-%m')) temp
  LEFT JOIN special_date AS sd ON temp.check_in_day >= sd.day_special_from AND temp.check_in_day <= sd.day_special_to AND sd.type_day = 1
GROUP BY temp.`check_in_day`, temp.staff_id
ORDER BY DATE_FORMAT(`check_in_day`, '%Y-%m-%d') ASC) AS tz
LEFT JOIN special_date AS ot ON tz.check_in_day_y_m_d >= ot.day_special_from AND tz.check_in_day_y_m_d <= ot.day_special_to AND ot.type_day = 2 AND ot.is_approved = 1 AND tz.department_id = ot.department_request AND (ot.staff_ot = 'all' OR FIND_IN_SET(tz.staff_id, ot.staff_ot) > 0)
ORDER BY tz.staff_id, tz.check_in_day_y_m_d ASC;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetAllStaffTimeFromTo` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetAllStaffTimeFromTo` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAllStaffTimeFromTo`(IN `from_date` DATE, IN `to_date` DATE)
BEGIN
SELECT 
  tz.staff_id, tz.code, tz.full_name, tz.department_id, tz.department_name, tz.day_of_week, tz.check_in_day, tz.check_in_day_y_m_d, tz.check_in, tz.check_out,
  tz.check_in_rand, tz.check_out_rand, tz.in_late_diff, tz.out_soon_diff, tz.ot_time, tz.multiply, tz.special_date_id, tz.image_check_in, tz.image_check_out,
  CASE
    WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' then 1
    WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' then 0.5
    WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' THEN 1
    WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' THEN 0.5
    ELSE 0
  END AS 'number_time',
  IF(DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') > '05:00:00', DATE_FORMAT(TIMEDIFF(TIMEDIFF(tz.check_out_rand, tz.check_in_rand), '01:00:00'),'%H:%i:%s'), DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s')) AS 'time',
  IF(ot.id IS NOT NULL AND special_date_id IS NULL, if(ot_time > '04:00:00', '04:00:00', ot_time), NULL) AS 'ot',
  IF(tz.out_soon_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s'), NULL), tz.out_soon_diff) AS 'out_soon',
  CASE
    WHEN tz.check_in >= '17:00:00' THEN NULL
    ELSE IF(tz.in_late_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s'), NULL), tz.in_late_diff)
  END AS 'in_late',
  'Chấm Công' as type_note,
  0 as `type`
FROM
(SELECT
  staff_id, `code`, full_name, department_id, department_name, 
  DAYOFWEEK(check_in_day) AS day_of_week,
  DATE_FORMAT(check_in_day, '%d-%m-%Y') AS check_in_day, 
  check_in_day AS check_in_day_y_m_d,
  DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s') AS check_in,
  DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s') AS check_out,
  IF(MIN(IF(`type` = 0, check_in_at, NULL)) < DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), MIN(IF(`type` = 0, check_in_at, NULL))) AS check_in_rand,
  IF(MAX(IF(`type` = 1, check_in_at, NULL)) > DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), MAX(IF(`type` = 1, check_in_at, NULL))) AS check_out_rand,
  IF(TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00'), NULL) AS 'in_late_diff',
  IF(TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) >= '00:00:00', TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) , NULL) AS 'out_soon_diff',
  IF(TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00'), NULL) AS 'ot_time',
  CASE
    WHEN sd.id IS NOT NULL THEN '3'
    WHEN DAYOFWEEK(check_in_day) = 7 OR DAYOFWEEK(check_in_day) = 1 THEN '2'
    ELSE '1'
  END AS multiply,
  sd.id AS special_date_id,
  MAX(IF(`type` = 0, image, NULL)) AS image_check_in,
  MAX(IF(`type` = 1, image, NULL)) AS image_check_out
FROM
  (SELECT s.id AS staff_id, s.`code`, CONCAT(s.`firstname`, ' ', s.`lastname`) AS full_name, d.id AS department_id, d.`name` AS department_name ,c.`check_in_day`, c.`check_in_at`, c.`type`, c.image
    FROM `check_in_out` c
    JOIN staff AS s ON c.`staff_id` = s.`id`
    JOIN department AS d ON s.`department` = d.`id`
    WHERE c.check_in_day >= from_date
    AND c.check_in_day <= to_date) temp
  LEFT JOIN special_date AS sd ON temp.check_in_day >= sd.day_special_from AND temp.check_in_day <= sd.day_special_to AND sd.type_day = 1
GROUP BY temp.`check_in_day`, temp.staff_id
ORDER BY DATE_FORMAT(`check_in_day`, '%Y-%m-%d') ASC) AS tz
LEFT JOIN special_date AS ot ON tz.check_in_day_y_m_d >= ot.day_special_from AND tz.check_in_day_y_m_d <= ot.day_special_to AND ot.type_day = 2 AND ot.is_approved = 1 AND tz.department_id = ot.department_request AND (ot.staff_ot = 'all' OR FIND_IN_SET(tz.staff_id, ot.staff_ot) > 0)
ORDER BY tz.check_in_day_y_m_d ASC;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetAllTimeLeaveFromTo` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetAllTimeLeaveFromTo` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetAllTimeLeaveFromTo`(IN `from_date` DATE, IN `to_date` DATE)
BEGIN
SELECT 
	t.id, t.staff_id, t.staff_code, t.day_time_leave, t.time, t.type, t.note , t.is_approved, t.day_approved, IF(t.time = "04:00:00", 0.5, 1) AS number_time,
	CASE
		WHEN sd.id IS NOT NULL THEN '3'
		WHEN DAYOFWEEK(day_time_leave) = 7 OR DAYOFWEEK(day_time_leave) = 1 THEN '2'
		ELSE '1'
	END AS multiply,
	case
		when t.type = 1 then 'Phép Năm Tính Lương'
		else 'Bổ Sung Công'
	end as type_note
FROM time_leave AS t
LEFT JOIN special_date AS sd ON t.day_time_leave >= sd.day_special_from AND t.day_time_leave <= sd.day_special_to And sd.type_day = 1
WHERE t.is_approved = 1 
AND day_time_leave >= from_date
AND day_time_leave <= to_date
ORDER BY day_time_leave ASC;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetCountLevelEducation` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetCountLevelEducation` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetCountLevelEducation`()
BEGIN
  SELECT SUM(IF(`level` = 1, 1, 0)) AS level_1,
    SUM(IF(`level` = 2, 1, 0)) AS level_2,
    SUM(IF(`level` = 3, 1, 0)) AS level_3,
    SUM(IF(`level` = 4, 1, 0)) AS level_4,
    SUM(IF(`level` = 5, 1, 0)) AS level_5
  FROM education;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetDetailOfKpi` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetDetailOfKpi` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetDetailOfKpi`(IN `kpi_id` INT)
BEGIN
  SELECT
    CONCAT(s.`firstname`, ' ', s.`lastname`) AS staff_create,
    s.is_manager as staff_create_is_manager,
    d_create.`name` AS department_create,
    s_d_create.name as department_staff_create,
    k.id, k.`kpi_name`, k.`is_approved`,
    DATE_FORMAT(k.created_at, '%H:%i:%s %d-%m-%Y ') AS created_at,
    DATE_FORMAT(k.`update_at`, '%H:%i:%s %d-%m-%Y ') AS update_at,
    k.`approved_by`,
    CONCAT(s_app.`firstname`, ' ', s_app.`lastname`) AS staff_approve,
    s_app.`is_manager` AS staff_approve_is_manager,
    d.name AS staff_approve_department
  FROM kpi AS k
  LEFT JOIN staff AS s ON k.`staff_id` = s.`id`
  LEFT JOIN department AS d_create ON k.`department_id` = d_create.`id`
  left join department as s_d_create on s.department = s_d_create.id
  LEFT JOIN staff AS s_app ON k.`approved_by` = s_app.id
  LEFT JOIN department AS d ON s_app.`department` = d.id
  where k.id = kpi_id;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetDetailOT` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetDetailOT` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetDetailOT`(IN `special_date_id` INTEGER)
BEGIN
  SELECT sd.`id`, sd.`day_special_from`, sd.`day_special_to`, sd.note, sd.`type_day`, sd.`is_approved`, sd.`staff_request`, sd.`department_request`, sd.staff_ot,
    CONCAT(s.`firstname`, ' ', s.`lastname`) AS full_name_staff_request, s.`code`,
    d.`name` AS name_department_request
  FROM hr.`special_date` AS sd
  LEFT JOIN staff AS s ON sd.`staff_request` = s.`id`
  LEFT JOIN `department` AS d ON sd.`department_request` = d.`id`
  where sd.id = special_date_id;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetDetailTimeLeave` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetDetailTimeLeave` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetDetailTimeLeave`(IN `y_m` DATE, IN `s_id` INTEGER)
BEGIN
(SELECT t.*, s.`firstname`, s.`lastname`, s.code, s.`is_manager`, d.id AS department_id, d.name, d.name_vn, sd.id AS special_date_id, DAYOFWEEK(day_time_leave) AS day_of_week, 
  CASE
    WHEN sd.id IS NOT NULL THEN '3'
    WHEN DAYOFWEEK(day_time_leave) = 7 OR DAYOFWEEK(day_time_leave) = 1 THEN '2'
    ELSE '1'
END AS multiply
FROM time_leave AS t
JOIN staff AS s ON t.`staff_id` = s.`id`
JOIN department AS d ON s.`department` = d.`id`
LEFT JOIN special_date AS sd ON t.day_time_leave >= sd.day_special_from AND t.day_time_leave <= sd.day_special_to AND sd.type_day = 1
WHERE DATE_FORMAT(t.`day_time_leave`, '%Y-%m') = DATE_FORMAT(y_m,'%Y-%m')
AND t.staff_id = s_id)
UNION ALL
(SELECT 
    t.id,t.staff_id, s.code AS `staff_code`, CONCAT(t.from_date, ' đến ', t.to_date) AS day_time_leave, NULL AS `time`, t.image,
    t.`type_leave` AS `type`, t.`note`, t.`is_approved`, t.`day_approved`, t.created_at, t.done,
    s.`firstname`, s.`lastname`, s.code, s.is_manager,
    d.id AS department_id, d.name, d.name_vn,
    NULL AS special_date_id, NULL AS day_of_week,
    0 AS multiply
FROM leave_other AS t
LEFT JOIN staff AS s ON t.staff_id = s.id
LEFT JOIN department AS d ON s.department = d.id
WHERE DATE_FORMAT(y_m,'%Y-%m') BETWEEN DATE_FORMAT(from_date,'%Y-%m') AND DATE_FORMAT(to_date,'%Y-%m')
AND staff_id = s_id
ORDER BY from_date, to_date ASC)
ORDER BY day_time_leave;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetKpiDepartment` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetKpiDepartment` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetKpiDepartment`(IN `department` INTEGER, IN `is_manager` INTEGER)
BEGIN
  SET @pre_select = CONCAT("
  SELECT 
    k.id, k.department_id, k.kpi_name, DATE_FORMAT(k.created_at, '%H:%i:%s %d-%m-%Y ') as created_at, k.update_at, k.is_approved, k.approved_by, k.del,
    d.`name` AS department_name, d.`name_vn` AS department_name_vn, CONCAT(s_app.`firstname`, ' ', s_app.`lastname`) AS staff_approve
  FROM kpi AS k
  LEFT JOIN department AS d ON k.`department_id` = d.`id`
  LEFT JOIN staff AS s_app ON k.`approved_by` = s_app.`id`
  WHERE k.del = 0
  AND k.`department_id` IS NOT NULL ");
  
  SET @where_department = '';
  
  IF department <> 2 THEN
    SET @where_department = CONCAT(" AND d.id = ", department);
  END IF;
  
  IF department = 2 AND is_manager <> 1 THEN
    SET @where_department = CONCAT(" AND k.`department_id` <> 2 AND (k.is_approved = 2 OR k.is_approved = 1)");
  END IF;
  
  SET @suf_select = " order by d.name";
  
  SET @sql = CONCAT(@pre_select, @where_department, @suf_select);
    
  PREPARE stmt FROM @sql;  
  EXECUTE stmt;
  DEALLOCATE PREPARE stmt;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetKpiStaff` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetKpiStaff` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetKpiStaff`(IN `department` INTEGER, IN `is_manager` INTEGER)
BEGIN
  SET @pre_select = CONCAT("
  SELECT 
    k.id, k.staff_id, k.kpi_name, DATE_FORMAT(k.created_at, '%H:%i:%s %d-%m-%Y') as created_at, k.update_at, k.is_approved, k.approved_by, k.del,
    s.`code`, s.`firstname`, s.`lastname`, s.`is_manager` ,s.`department`, d.`name` AS staff_department,
    CONCAT(s_app.`firstname`, ' ', s_app.`lastname`) AS staff_approve
  FROM kpi AS k
  LEFT JOIN staff AS s ON k.`staff_id` = s.`id`
  LEFT JOIN department AS d ON s.`department` = d.`id`
  LEFT JOIN staff AS s_app ON k.`approved_by` = s_app.`id`
  WHERE k.del = 0
  AND k.`staff_id` IS NOT NULL");
  
  SET @where_department = '';
  
  IF department <> 2 THEN
    SET @where_department = CONCAT(" AND d.id = ", department);
  END IF;
  
  IF department = 2 and is_manager <> 1 THEN
    SET @where_department = CONCAT(" AND s.`department` <> 2 AND (is_approved = 2 OR is_approved = 1)");
  END IF;
  
  SET @suf_select = " order by d.name";
  
  SET @sql = CONCAT(@pre_select, @where_department, @suf_select);
    
  PREPARE stmt FROM @sql;  
  EXECUTE stmt;
  DEALLOCATE PREPARE stmt;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetLeaveOtherFromTo` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetLeaveOtherFromTo` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetLeaveOtherFromTo`(IN `from_date` DATE, IN `to_date` DATE)
BEGIN
	SELECT *,
		case
			WHEN l.type_leave = 6 THEN 1
			WHEN l.type_leave = 7 THEN 1
			else 0
		End as multiply,
		CASE
			WHEN l.type_leave = 2 THEN 'Phép Lhông Lương'
			WHEN l.type_leave = 3 THEN 'Phép Chữa Bệnh Ngắn Ngày'
			WHEN l.type_leave = 4 THEN 'Phép Chữa Bệnh Dài Ngày'
			WHEN l.type_leave = 5 THEN 'Phép Thai Sản'
			WHEN l.type_leave = 6 THEN 'Phép Kết Hôn'
			WHEN l.type_leave = 7 THEN 'Phép Ma Chay'
			ELSE 0
		END AS type_note,
		1 as number_time,
        '08:00:00' as time,
        d.day_leave_other as day_time_special
	FROM
	(SELECT *, DAYOFWEEK(day_leave_other) AS day_of_week FROM 
		(SELECT ADDDATE('1970-01-01',t4*10000 + t3*1000 + t2*100 + t1*10 + t0) day_leave_other FROM
		(SELECT 0 t0 UNION SELECT 1 UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5 UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9) t0,
		(SELECT 0 t1 UNION SELECT 1 UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5 UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9) t1,
		(SELECT 0 t2 UNION SELECT 1 UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5 UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9) t2,
		(SELECT 0 t3 UNION SELECT 1 UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5 UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9) t3,
		(SELECT 0 t4 UNION SELECT 1 UNION SELECT 2 UNION SELECT 3 UNION SELECT 4 UNION SELECT 5 UNION SELECT 6 UNION SELECT 7 UNION SELECT 8 UNION SELECT 9) t4) v
	WHERE day_leave_other BETWEEN from_date AND to_date) AS d
	JOIN leave_other AS l ON d.day_leave_other BETWEEN l.`from_date` AND l.`to_date` AND day_of_week <> 7 AND day_of_week <> 1
	WHERE l.`is_approved` = 1
	ORDER BY day_leave_other ASC;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetListSpecialDate` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetListSpecialDate` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetListSpecialDate`(IN `y_m` DATE)
BEGIN
  select sd.*, ts.id as detail_id
  from hr.`special_date` as sd
  left join `time_special` as ts on sd.`id` = ts.`special_date_id`
  where DATE_FORMAT(sd.day_special_from, '%Y') = DATE_FORMAT(y_m, '%Y')
  group by sd.id;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetListTransfer` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetListTransfer` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetListTransfer`(IN `month_get` DATE, IN `department` INT)
BEGIN
	SET @pre_select = CONCAT("\r\n\tSELECT t.id, t.`old_manager_approved`, t.`new_manager_approved`,t.`manager_approved`, t.`hr_approved`, t.`new_salary` , t.`staff_id` ,t.`old_department` ,t.`new_department`,t.`created_at`, t.note, t.`note_manager`\r\n ,\r\n\t\tCONCAT(s.`firstname`, ' ', s.`lastname`) AS staff_transfer,\r\n\t\tCONCAT(s2.`firstname`, ' ', s2.`lastname`) AS staff_create\r\n ,\r\n\t\td.id AS old_department_id, d.name AS old_department_name\r\n ,\r\n\t\td2.id AS new_department_id, d2.name AS new_department_name\r\n ,\r\n\t\td3.id AS new_department_id3, d3.name AS new_department_name3\r\n\r\n\tFROM `transfer` AS t\r\n\tJOIN staff AS s ON t.`staff_id` = s.`id`\r\n\r\n\tJOIN staff AS s2 ON t.`created_by` = s2.`id`\r\n\r\n\tJOIN department AS d ON s.`department` = d.`id`\r\n\r\n\tJOIN department AS d2 ON t.`new_department` = d2.`id`\r\n\r\n\tJOIN department AS d3 ON t.`old_department` = d3.`id`\r\n\r\n\tWHERE t.del = 0\r\n\tAND DATE_FORMAT(t.created_at, '%Y-%m') = DATE_FORMAT('", month_get, "', '%Y-%m')");
	
	SET @where_department = '';
	
	IF department <> 5 AND department <> 2 THEN
		SET @where_department = CONCAT(" AND (s.department = ", department, " OR t.new_department = ", department, ")");
	END IF;
		
	SET @sql = CONCAT(@pre_select, @where_department);
    
	PREPARE stmt FROM @sql;  
	EXECUTE stmt;
	DEALLOCATE PREPARE stmt;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetProfile` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetProfile` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetProfile`(IN `staff_id` INT)
BEGIN
SELECT s.*, r.`name` AS district, r2.`name` AS province, d.`name_vn` AS department_name, 
  CONCAT(s_c.`firstname`, ' ', s_c.`lastname`) AS name_staff_create,
  CONCAT(s_c.`firstname`, ' ', s_c.`lastname`) AS name_staff_update 
FROM staff AS s
LEFT JOIN department AS d ON s.`department` = d.`id`
LEFT JOIN regional AS r ON s.`regional` = r.`id`
LEFT JOIN regional AS r2 ON r.`parent` = r2.`id`
LEFT JOIN staff AS s_c ON s.`created_by` = s_c.id
LEFT JOIN staff AS s_u ON s.`updated_by` = s_u.id
WHERE s.id = staff_id;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetRequestOT` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetRequestOT` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetRequestOT`(IN `special_date` DATE, IN `staff_request` INTEGER, IN `department_request` INTEGER)
BEGIN
  SET @pre_select = CONCAT("
  SELECT sd.`id`, sd.`day_special_from`, sd.`day_special_to`, sd.note, sd.`type_day`, sd.`is_approved`, sd.`staff_request`, sd.`department_request`, sd.staff_ot, 
    CONCAT(s.`firstname`, ' ', s.`lastname`) AS full_name_staff_request, s.`code`,
    d.`name` AS name_department_request
  FROM hr.`special_date` AS sd
  LEFT JOIN staff AS s ON sd.`staff_request` = s.`id`
  LEFT JOIN `department` AS d ON sd.`department_request` = d.`id`
  WHERE DATE_FORMAT(day_special_from, '%Y') = DATE_FORMAT('",special_date,"', '%Y')");
  
  SET @where = '';
  
  IF staff_request <> 7 THEN
    SET @where = CONCAT(" AND sd.department_request = ", department_request, " OR sd.type_day = 1");
  END IF;
  
  SET @suf_select = " order by sd.day_special_to";
  
  SET @sql = CONCAT(@pre_select, @where, @suf_select);
    
  PREPARE stmt FROM @sql;  
  EXECUTE stmt;
  DEALLOCATE PREPARE stmt;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetStaffApprove` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetStaffApprove` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetStaffApprove`(IN `month_get` DATE, IN `department` INTEGER, IN `is_manager` INTEGER, IN `staff_id` INTEGER)
BEGIN
  SET @pre_select = CONCAT("
  SELECT t.*, s.`firstname`, s.`lastname`, s.code, s.`is_manager`, d.id as department_id, d.name, d.name_vn, sd.id AS special_date_id, DAYOFWEEK(day_time_leave) AS day_of_week, 
  CASE
    WHEN sd.id IS NOT NULL THEN '3'
    WHEN DAYOFWEEK(day_time_leave) = 7 OR DAYOFWEEK(day_time_leave) = 1 THEN '2'
    ELSE '1'
  END AS multiply
  FROM time_leave AS t
  JOIN staff AS s ON t.`staff_id` = s.`id`
  JOIN department AS d ON s.`department` = d.`id`
  LEFT JOIN special_date AS sd ON t.day_time_leave >= sd.day_special_from AND t.day_time_leave <= sd.day_special_to AND sd.type_day = 1
  WHERE DATE_FORMAT(t.`day_time_leave`, '%Y-%m') = DATE_FORMAT('", month_get, "','%Y-%m')");
  
  SET @where_department = '';
  
  IF department <> 5 then
    set @where_department = concat(" AND d.id = ", department);
  end if;
  
  SET @where_is_approved = '';
  
  IF staff_id = 7 THEN
    SET @where_is_approved = CONCAT(" AND (t.is_approved = 2 || t.is_approved = 1)");
  END IF;
  
  SET @suf_select = " order by day_time_leave";
  
  set @sql = concat(@pre_select, @where_department, @where_is_approved, @suf_select);
    
  PREPARE stmt FROM @sql;  
  EXECUTE stmt;
  DEALLOCATE PREPARE stmt;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetStaffApproveLeaveOther` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetStaffApproveLeaveOther` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetStaffApproveLeaveOther`(IN `month_get` DATE, IN `department` INTEGER, IN `is_manager` INTEGER, IN `staff_id` INTEGER)
BEGIN
  SET @pre_select = CONCAT("
  SELECT s.`firstname`, s.`lastname`, s.code, s.`is_manager`, d.id AS department_id, d.name, d.name_vn, l.*
  FROM leave_other AS l
  JOIN staff AS s ON l.`staff_id` = s.`id`
  JOIN department AS d ON s.`department` = d.`id`
  WHERE DATE_FORMAT('", month_get, "','%Y-%m') BETWEEN DATE_FORMAT(l.from_date,'%Y-%m') AND DATE_FORMAT(l.to_date,'%Y-%m')");
  
  SET @where_department = '';
  
  IF department <> 5 then
    set @where_department = concat(" AND d.id = ", department);
  end if;
  
  SET @where_is_approved = '';
  
  IF staff_id = 7 THEN
    SET @where_is_approved = CONCAT(" AND (l.is_approved = 2 || l.is_approved = 1)");
  END IF;
  
  SET @suf_select = " order by l.from_date, l.to_date";
  
  set @sql = concat(@pre_select, @where_department, @where_is_approved, @suf_select);
    
  PREPARE stmt FROM @sql;  
  EXECUTE stmt;
  DEALLOCATE PREPARE stmt;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetStaffMonth` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetStaffMonth` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetStaffMonth`()
BEGIN
   SELECT
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-01-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-01-31'), 1, 0)) AS 'T1',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-02-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-02-31'), 1, 0)) AS 'T2',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-03-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-03-31'), 1, 0)) AS 'T3',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-04-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-04-31'), 1, 0)) AS 'T4',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-05-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-05-31'), 1, 0)) AS 'T5',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-06-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-06-31'), 1, 0)) AS 'T6',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-07-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-07-31'), 1, 0)) AS 'T7',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-08-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-08-31'), 1, 0)) AS 'T8',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-09-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-09-31'), 1, 0)) AS 'T9',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-10-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-10-31'), 1, 0)) AS 'T10',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-11-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-11-31'), 1, 0)) AS 'T11',
    SUM(IF((off_date >= DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-12-01') OR off_date IS NULL) AND joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-12-31'), 1, 0)) AS 'T12'
  FROM staff
  WHERE joined_at < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-12-31')
  AND (off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-01-01') OR off_date IS NULL);
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetStaffOffDateMonth` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetStaffOffDateMonth` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetStaffOffDateMonth`()
BEGIN
  select
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-01-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-01-31'), 1, 0)) AS 'T1',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-02-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-02-31'), 1, 0)) AS 'T2',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-03-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-03-31'), 1, 0)) AS 'T3',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-04-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-04-31'), 1, 0)) AS 'T4',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-05-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-05-31'), 1, 0)) AS 'T5',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-06-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-06-31'), 1, 0)) AS 'T6',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-07-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-07-31'), 1, 0)) AS 'T7',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-08-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-08-31'), 1, 0)) AS 'T8',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-09-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-09-31'), 1, 0)) AS 'T9',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-10-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-10-31'), 1, 0)) AS 'T10',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-11-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-11-31'), 1, 0)) AS 'T11',
    SUM(IF(off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-12-01') AND off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-12-31'), 1, 0)) AS 'T12'
  from staff
  where off_date is not null
  and off_date > DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-01-01')
  and off_date < DATE_FORMAT(DATE_SUB(NOW(), INTERVAL 1 YEAR), '%Y-12-31');
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetStaffTime` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetStaffTime` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetStaffTime`(IN `staff_id` INT, IN `y_m` DATE)
BEGIN
SELECT 
  tz.department_id, tz.day_of_week, tz.check_in_day, tz.check_in_day_no_format, tz.check_in_day_y_m_d, tz.check_in, tz.check_out,
  tz.check_in_rand, tz.check_out_rand, tz.in_late_diff, tz.out_soon_diff, tz.ot_time, tz.multiply, tz.special_date_id, tz.image_check_in, tz.image_check_out,
  CASE
    WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' then 1
    WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' then 0.5
    WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' THEN 1
    WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' THEN 0.5
    ELSE 0
  END AS 'number_time',
  case
	when DATE_FORMAT(tz.check_in_rand, '%H:%i:%s') > '17:00:00' then '00:00:00'
	else IF(DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') > '05:00:00', DATE_FORMAT(TIMEDIFF(TIMEDIFF(tz.check_out_rand, tz.check_in_rand), '01:00:00'),'%H:%i:%s'), DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s'))
  end AS 'time',
  IF(ot.id IS NOT NULL AND special_date_id IS NULL, if(ot_time > '04:00:00', '04:00:00', ot_time), NULL) AS 'ot',
  IF(tz.out_soon_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s'), NULL), tz.out_soon_diff) AS 'out_soon',
  CASE
    WHEN tz.check_in >= '17:00:00' THEN NULL
    ELSE IF(tz.in_late_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s'), NULL), tz.in_late_diff)
  END AS 'in_late'
FROM
(SELECT
  department_id,
  DAYOFWEEK(check_in_day) AS day_of_week,
  DATE_FORMAT(check_in_day, '%d-%m-%Y') AS check_in_day, 
  check_in_day AS check_in_day_no_format,
  check_in_day AS check_in_day_y_m_d,
  DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s') AS check_in,
  DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s') AS check_out,
  IF(MIN(IF(`type` = 0, check_in_at, NULL)) < DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), MIN(IF(`type` = 0, check_in_at, NULL))) AS check_in_rand,
  IF(MAX(IF(`type` = 1, check_in_at, NULL)) > DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), MAX(IF(`type` = 1, check_in_at, NULL))) AS check_out_rand,
  IF(TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00'), NULL) AS 'in_late_diff',
  IF(TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) >= '00:00:00', TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) , NULL) AS 'out_soon_diff',
  IF(TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00'), NULL) AS 'ot_time',
  CASE
    WHEN sd.id IS NOT NULL THEN '3'
    WHEN DAYOFWEEK(check_in_day) = 7 OR DAYOFWEEK(check_in_day) = 1 THEN '2'
    ELSE '1'
  END AS multiply,
  sd.id AS special_date_id,
  MAX(IF(`type` = 0, image, NULL)) AS image_check_in,
  MAX(IF(`type` = 1, image, NULL)) AS image_check_out
FROM
  (SELECT c.`check_in_day`, c.`check_in_at`, c.`type`, c.image, d.id AS department_id
    FROM `check_in_out` c
    JOIN staff AS s ON c.`staff_id` = s.`id`
    JOIN department AS d ON s.`department` = d.`id`
    WHERE c.`staff_id` = staff_id
    AND DATE_FORMAT(c.`check_in_day`, '%Y-%m') = DATE_FORMAT(y_m, '%Y-%m')) temp
  LEFT JOIN special_date AS sd ON temp.check_in_day >= sd.day_special_from AND temp.check_in_day <= sd.day_special_to AND sd.type_day = 1
GROUP BY temp.`check_in_day`
ORDER BY DATE_FORMAT(`check_in_day`, '%Y-%m-%d') ASC) AS tz
LEFT JOIN special_date AS ot ON tz.check_in_day_y_m_d >= ot.day_special_from AND tz.check_in_day_y_m_d <= ot.day_special_to AND ot.type_day = 2 AND ot.is_approved = 1 AND tz.department_id = ot.department_request AND (ot.staff_ot = 'all' OR FIND_IN_SET(staff_id, ot.staff_ot) > 0)
ORDER BY tz.check_in_day_y_m_d ASC;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetTimeSepcialFromTo` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetTimeSepcialFromTo` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetTimeSepcialFromTo`(IN `from_date` DATE, IN `to_date` DATE)
BEGIN
  SELECT *, 'Công Lễ' AS type_note, 0 as type, '08:00:00' as time FROM time_special WHERE date_create >= from_date and date_create <= to_date;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetTimeSpecial` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetTimeSpecial` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetTimeSpecial`(IN `id_special_date` INTEGER)
BEGIN
  select ts.id, ts.`staff_id`, ts.`special_date_id`, ts.`day_time_special`, ts.`number_time`, ts.`multiply`, ts.`date_create`, sd.`day_special_to`, sd.`day_special_from`, sd.`note`,
    concat(s.`firstname`, " ", s.`lastname`) as full_name, s.`is_manager`,
    d.`name_vn` as department_name
  from time_special as ts
  left join special_date as sd on ts.`special_date_id` = sd.`id` 
  left join staff as s on ts.`staff_id` = s.id
  left join department as d on s.`department` = d.`id`
  where ts.`special_date_id` = id_special_date
  order by ts.day_time_special;
END */$$
DELIMITER ;

/* Procedure structure for procedure `GetTN` */

/*!50003 DROP PROCEDURE IF EXISTS  `GetTN` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `GetTN`()
BEGIN
  select
    SUM(if(DATEDIFF(date_format(now(),'%Y-%m-%d'), `joined_at`) <= 180, 1, 0)) as '6_months_down',
    SUM(if(DATEDIFF(date_format(now(),'%Y-%m-%d'), `joined_at`) > 180 && DATEDIFF(date_format(now(),'%Y-%m-%d'), `joined_at`) <= 365, 1, 0)) as '6_month_to_1_year',
    SUM(IF(DATEDIFF(DATE_FORMAT(NOW(),'%Y-%m-%d'), `joined_at`) > 360 && DATEDIFF(DATE_FORMAT(NOW(),'%Y-%m-%d'), `joined_at`) <= 1095, 1, 0)) AS '1_to_3_year',
    SUM(IF(DATEDIFF(DATE_FORMAT(NOW(),'%Y-%m-%d'), `joined_at`) > 1095, 1, 0)) AS '3_year_up'
  from staff
  where off_date is null;
END */$$
DELIMITER ;

/* Procedure structure for procedure `SummaryStaffTime` */

/*!50003 DROP PROCEDURE IF EXISTS  `SummaryStaffTime` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `SummaryStaffTime`(IN `y_m` DATE)
BEGIN
SELECT 
  f.staff_id, f.code, f.full_name, f.department_id, f.department_name, f.is_manager,
  DATE_FORMAT( SEC_TO_TIME( SUM( TIME_TO_SEC( f.`time` ) ) ) , '%H:%i:%s') AS sum_time,
  DATE_FORMAT( SEC_TO_TIME( SUM( TIME_TO_SEC( f.`in_late` ) ) ) , '%H:%i:%s') AS sum_in_late,
  DATE_FORMAT( SEC_TO_TIME( SUM( TIME_TO_SEC( f.`out_soon` ) ) ) , '%H:%i:%s') AS sum_out_soon,
  DATE_FORMAT( SEC_TO_TIME( SUM( TIME_TO_SEC( f.`ot` ) ) ) , '%H:%i:%s') AS sum_ot,
  SUM(IF(f.multiply = 1, number_time, 0)) AS total_normal,
  SUM(IF(f.multiply = 2, number_time, 0)) AS total_day_off,
  SUM(IF(f.multiply = 3, number_time, 0)) AS total_day_special,
  SUM(f.number_time) AS total_number_time,
  SUM(f.number_time * f.multiply) AS total_number_time_all
FROM
  (SELECT 
    tz.staff_id, tz.code, tz.full_name, tz.department_id, tz.department_name, tz.is_manager, tz.day_of_week, tz.check_in_day, tz.check_in_day_y_m_d, tz.check_in, tz.check_out,
    tz.check_in_rand, tz.check_out_rand, tz.in_late_diff, tz.out_soon_diff, tz.ot_time, tz.multiply, tz.special_date_id, tz.image_check_in, tz.image_check_out,
    CASE
      WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' then 1
      WHEN (tz.multiply = 3 OR tz.multiply = 2) AND ot.id IS NOT NULL and DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' then 0.5
      WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '07:00:00' THEN 1
      WHEN tz.multiply = 1 AND DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') >= '03:00:00' THEN 0.5
      ELSE 0
    END AS 'number_time',
    CASE
		WHEN DATE_FORMAT(tz.check_in_rand, '%H:%i:%s') > '17:00:00' THEN '00:00:00'
		ELSE IF(DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s') > '05:00:00', DATE_FORMAT(TIMEDIFF(TIMEDIFF(tz.check_out_rand, tz.check_in_rand), '01:00:00'),'%H:%i:%s'), DATE_FORMAT(TIMEDIFF(tz.check_out_rand, tz.check_in_rand),'%H:%i:%s'))
	END AS 'time',
    IF(ot.id IS NOT NULL AND special_date_id IS NULL, if(ot_time > '04:00:00', '04:00:00', ot_time), NULL) AS 'ot',
    IF(tz.out_soon_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF('12:00:00', DATE_FORMAT(tz.check_out_rand, '%H:%i:%s')), '%H:%i:%s'), NULL), tz.out_soon_diff) AS 'out_soon',
    CASE
      WHEN tz.check_in >= '17:00:00' THEN NULL
      ELSE IF(tz.in_late_diff > '04:00:00', IF(DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s') > '00:00:00', DATE_FORMAT(TIMEDIFF(DATE_FORMAT(tz.check_in_rand, '%H:%i:%s'), '13:00:00'), '%H:%i:%s'), NULL), tz.in_late_diff)
    END AS 'in_late'
  FROM
    (SELECT
      staff_id, `code`, full_name, department_id ,department_name, is_manager,
      DAYOFWEEK(check_in_day) AS day_of_week,
      DATE_FORMAT(check_in_day, '%d-%m-%Y') AS check_in_day, 
      check_in_day AS check_in_day_y_m_d,
      DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s') AS check_in,
      DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s') AS check_out,
      IF(MIN(IF(`type` = 0, check_in_at, NULL)) < DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%Y-%m-%d 08:00:00'), MIN(IF(`type` = 0, check_in_at, NULL))) AS check_in_rand,
      IF(MAX(IF(`type` = 1, check_in_at, NULL)) > DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%Y-%m-%d 17:00:00'), MAX(IF(`type` = 1, check_in_at, NULL))) AS check_out_rand,
      IF(TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MIN(IF(`type` = 0, check_in_at, NULL)), '%H:%i:%s'), '08:00:00'), NULL) AS 'in_late_diff',
      IF(TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) >= '00:00:00', TIMEDIFF('17:00:00', DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s')) , NULL) AS 'out_soon_diff',
      IF(TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00') >= '00:00:00', TIMEDIFF(DATE_FORMAT(MAX(IF(`type` = 1, check_in_at, NULL)), '%H:%i:%s'), '17:00:00'), NULL) AS 'ot_time',
      CASE
        WHEN sd.id IS NOT NULL THEN '3'
        WHEN DAYOFWEEK(check_in_day) = 7 OR DAYOFWEEK(check_in_day) = 1 THEN '2'
        ELSE '1'
      END AS multiply,
      sd.id AS special_date_id,
      MAX(IF(`type` = 0, image, NULL)) AS image_check_in,
      MAX(IF(`type` = 1, image, NULL)) AS image_check_out
    FROM
      (SELECT s.id AS staff_id, s.`code`, CONCAT(s.`firstname`, ' ', s.`lastname`) AS full_name, s.is_manager, d.id AS department_id, d.`name_vn` AS department_name ,c.`check_in_day`, c.`check_in_at`, c.`type`,c.image
        FROM `check_in_out` c
        JOIN staff AS s ON c.`staff_id` = s.`id`
        JOIN department AS d ON s.`department` = d.`id`
        WHERE DATE_FORMAT(c.`check_in_day`, '%Y-%m') = DATE_FORMAT(y_m, '%Y-%m')) temp
      LEFT JOIN special_date AS sd ON temp.check_in_day >= sd.day_special_from AND temp.check_in_day <= sd.day_special_to AND sd.type_day = 1
    GROUP BY temp.`check_in_day`, temp.staff_id
    ORDER BY DATE_FORMAT(`check_in_day`, '%Y-%m-%d') ASC) AS tz
  LEFT JOIN special_date AS ot ON tz.check_in_day_y_m_d >= ot.day_special_from AND tz.check_in_day_y_m_d <= ot.day_special_to AND ot.type_day = 2 AND ot.is_approved = 1 AND tz.department_id = ot.department_request AND (ot.staff_ot = 'all' OR FIND_IN_SET(tz.staff_id, ot.staff_ot) > 0)
  ORDER BY tz.check_in_day_y_m_d ASC) AS f
GROUP BY staff_id;
END */$$
DELIMITER ;

/* Procedure structure for procedure `SummaryTimeLeave` */

/*!50003 DROP PROCEDURE IF EXISTS  `SummaryTimeLeave` */;

DELIMITER $$

/*!50003 CREATE DEFINER=`root`@`localhost` PROCEDURE `SummaryTimeLeave`(IN `y_m` DATE)
BEGIN
SELECT *, 
  SUM(1) AS number_time_leave,
  SUM(IF(z.type <> 0, 1, 0)) AS total_number_leave,
  SUM(IF(z.type = 0, 1, 0)) AS total_number_time,
  SUM(IF(z.type <> 0 AND z.is_approved = 1, 1, 0)) AS number_leave_approved,
  SUM(IF(z.type = 0 AND z.is_approved = 1, 1, 0)) AS number_time_approved,
  SUM(IF(z.type <> 0 AND z.is_approved <> 1, 1, 0)) AS number_leave_not_approved,
  SUM(IF(z.type = 0 AND z.is_approved <> 1, 1, 0)) AS number_time_not_approved,
  SUM(IF(z.type <> 0 AND z.is_approved = 1, z.number_time * z.multiply, 0)) AS number_time_leave_approved,
  SUM(IF(z.type = 0 AND z.is_approved = 1, z.number_time * z.multiply, 0)) AS number_time_time_approved
FROM 
((SELECT 
    t.staff_id, t.staff_code AS `code`, CONCAT(s.`firstname`, ' ', s.`lastname`) AS full_name, 
    d.id AS department_id, d.name_vn AS department_name, s.is_manager,
    DAYOFWEEK(day_time_leave) AS day_of_week,
    t.day_time_leave,
    t.time, t.type, t.note , t.is_approved, t.day_approved, IF(t.time = "04:00:00", 0.5, 1) AS number_time,
    CASE
      WHEN sd.id IS NOT NULL THEN '3'
      WHEN DAYOFWEEK(day_time_leave) = 7 OR DAYOFWEEK(day_time_leave) = 1 THEN '2'
      ELSE '1'
    END AS multiply
FROM time_leave AS t
LEFT JOIN special_date AS sd ON t.day_time_leave >= sd.day_special_from AND t.day_time_leave <= sd.day_special_to AND sd.type_day = 1
LEFT JOIN staff AS s ON t.staff_id = s.id
LEFT JOIN department AS d ON s.department = d.id
WHERE DATE_FORMAT(`day_time_leave`, '%Y-%m') = DATE_FORMAT(y_m, '%Y-%m')
ORDER BY day_time_leave ASC)
UNION ALL
(SELECT 
    t.staff_id, s.code AS `code`, CONCAT(s.`firstname`, ' ', s.`lastname`) AS full_name, 
    d.id AS department_id, d.name_vn AS department_name, s.is_manager,
    NULL AS day_of_week,
    NULL AS day_time_leave,
    NULL AS `time`,
    t.`type_leave` AS `type`,
    t.`note`,
    t.`is_approved`,
    t.`day_approved`,
    1 AS number_time,
    CASE
		WHEN t.type_leave = 6 THEN 1 * (DATEDIFF(to_date, from_date) + 1)
		WHEN t.type_leave = 7 THEN 1 * (DATEDIFF(to_date, from_date) + 1)
		ELSE 0
	END AS multiply
FROM leave_other AS t
LEFT JOIN staff AS s ON t.staff_id = s.id
LEFT JOIN department AS d ON s.department = d.id
WHERE DATE_FORMAT(y_m,'%Y-%m') BETWEEN DATE_FORMAT(from_date,'%Y-%m') AND DATE_FORMAT(to_date,'%Y-%m')
ORDER BY from_date, to_date ASC)) AS z
GROUP BY staff_id;
END */$$
DELIMITER ;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
